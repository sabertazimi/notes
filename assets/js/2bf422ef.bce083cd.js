"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["88201"],{68612(n,e,i){i.r(e),i.d(e,{metadata:()=>t,default:()=>d,frontMatter:()=>l,contentTitle:()=>r,toc:()=>s,assets:()=>a});var t=JSON.parse('{"id":"programming/git/config","title":"Configuration","description":"Setup","source":"@site/content/programming/git/config.md","sourceDirName":"programming/git","slug":"/programming/git/config","permalink":"/notes/programming/git/config","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/git/config.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"Git","permalink":"/notes/tags/git"}],"version":"current","lastUpdatedBy":"sabertazimi","lastUpdatedAt":1772192177000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"tags":["Programming","Linux","Git"]},"sidebar":"tutorialSidebar","previous":{"title":"Git","permalink":"/notes/programming/git/"},"next":{"title":"Commands","permalink":"/notes/programming/git/commands"}}'),g=i(62615),o=i(30416);let l={sidebar_position:1,tags:["Programming","Linux","Git"]},r="Configuration",a={},s=[{value:"Setup",id:"setup",level:2},{value:"GPG",id:"gpg",level:2},{value:"Proxy",id:"proxy",level:2},{value:"List",id:"list",level:2},{value:"Ignore File",id:"ignore-file",level:2}];function c(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(e.header,{children:(0,g.jsx)(e.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,g.jsx)(e.h2,{id:"setup",children:"Setup"}),"\n",(0,g.jsxs)(e.p,{children:[(0,g.jsx)(e.a,{href:"https://blog.gitbutler.com/how-git-core-devs-configure-git",children:"Configure git"}),":"]}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:"gh auth login\n"})}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:'git config --global user.name "sabertazimi"\ngit config --global user.email sabertazimi@gmail.com\ngit config --global core.autocrlf false\ngit config --global core.editor nvim\ngit config --global credential.helper store\ngit config --global color.ui true\ngit config --global commit.template ~/.gitmsg.md\necho "fix():" >> ~/.gitmsg.md\n\ngit config --global init.defaultBranch main\ngit config --global merge.conflictstyle diff3\ngit config --global push.default simple\ngit config --global push.autoSetupRemote true\ngit config --global pull.rebase true\ngit config --global fetch.prune true\ngit config --global fetch.pruneTags true\ngit config --global fetch.all true\ngit config --global rebase.autoSquash true\ngit config --global rebase.autoStash true\ngit config --global rebase.updateRefs true\n\ngit config --global diff.algorithm histogram\ngit config --global diff.colorMoved plain\ngit config --global diff.mnemonicPrefix true\ngit config --global diff.renames true\n\ngit config --global core.pager delta\ngit config --global interactive.diffFilter \'delta --color-only\'\ngit config --global delta.navigate true\ngit config --global delta.dark true\ngit config --global delta.line-numbers true\ngit config --global delta.side-by-side true\ngit config --global merge.conflictStyle zdiff3\n\ngit config --global alias.s "status"\ngit config --global alias.c "commit --verbose"\ngit config --global alias.a "add"\ngit config --global alias.rs "restore --staged"\ngit config --global alias.st "stash"\ngit config --global alias.pr "pull --rebase"\ngit config --global alias.d \'!sh -c "git diff --cached | cat"\'\n\ngit config --global help.autocorrect 10\n'})}),"\n",(0,g.jsx)(e.h2,{id:"gpg",children:"GPG"}),"\n",(0,g.jsxs)(e.p,{children:[(0,g.jsx)(e.a,{href:"https://docs.github.com/authentication/managing-commit-signature-verification/generating-a-new-gpg-key",children:"Generate new GPG key"}),":"]}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:'gpg --full-generate-key\ngpg --list-secret-keys --keyid-format=long\n\ngh auth refresh -s write:gpg_key\ngpg --armor --export <pub-keyID> | gh gpg-key add --title "Arch Linux" -\n\ngit config --global commit.gpgsign true\ngit config --global gpg.program gpg\ngit config --global user.signingkey <pub-keyID>\n\ncurl https://github.com/web-flow.gpg | gpg --import\ngpg --sign-key B5690EEEBB952194\n'})}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:'# Export GPG private key as an ASCII armored version\n# gpg --armor --export-secret-key sabertazimi@gmail.com -w0\n\n# Log git signature\n# git log --show-signature\n\n# WSL2 fix: Add to ~/.zshrc\n# export GPG_TTY=$(tty)\n\n# Single signature commit\n# git commit -S -m "..."\n'})}),"\n",(0,g.jsxs)(e.p,{children:[(0,g.jsx)(e.a,{href:"https://inspirezone.tech/using-gpg-keys-on-github",children:"Update existing GPG key"}),":"]}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:"gpg --edit-key <pub-keyID>\n> expire\n> passwd\n> save\n"})}),"\n",(0,g.jsxs)(e.p,{children:["After this\n",(0,g.jsx)(e.a,{href:"https://github.blog/changelog/2022-05-31-improved-verification-of-historic-git-commit-signatures",children:"update"}),"\ncommits signed with expired GPG key (before it expired)\nno longer become ",(0,g.jsx)(e.code,{children:"unverified"})," state."]}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:"git config --global commit.gpgsign true\ngit config --global gpg.program gpg\ngit config --global user.signingkey <pub-keyID>\n"})}),"\n",(0,g.jsx)(e.h2,{id:"proxy",children:"Proxy"}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:"# GitHub proxy.\ngit config --global url.\"https://ghfast.top/https://github.com/\".insteadOf \"https://github.com/\"\n\n# Socks5 proxy.\ngit config --global http.proxy 'socks5://127.0.0.1:1080'\ngit config --global https.proxy 'socks5://127.0.0.1:1080'\n\n# Post buffer configuration.\ngit config --global http.postbuffer 524288000\ngit config --global https.postbuffer 1048576000\n"})}),"\n",(0,g.jsxs)(e.admonition,{title:"DNS Pollution",type:"caution",children:[(0,g.jsxs)(e.p,{children:["To fix ",(0,g.jsx)(e.code,{children:"SSL_ERROR_SYSCALL in connection to github.com:443"}),":"]}),(0,g.jsxs)(e.ul,{children:["\n",(0,g.jsx)(e.li,{children:"Ensure git configuration correct."}),"\n",(0,g.jsx)(e.li,{children:"Ensure socks5 proxy stay working."}),"\n",(0,g.jsxs)(e.li,{children:["Change DNS server configuration (",(0,g.jsx)(e.code,{children:"8.8.8.8"}),")."]}),"\n"]})]}),"\n",(0,g.jsx)(e.h2,{id:"list",children:"List"}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:"git config --list\ngit --help\nman git-xxx\ngit help\ngit help config\n"})}),"\n",(0,g.jsx)(e.h2,{id:"ignore-file",children:"Ignore File"}),"\n",(0,g.jsxs)(e.p,{children:["\u6587\u4EF6 ",(0,g.jsx)(e.code,{children:".gitignore"})," \u7684\u683C\u5F0F\u89C4\u8303\u5982\u4E0B\uFF1A"]}),"\n",(0,g.jsxs)(e.ul,{children:["\n",(0,g.jsx)(e.li,{children:"\u6240\u6709\u7A7A\u884C\u6216\u8005\u4EE5 # \u5F00\u5934\u7684\u884C\u90FD\u4F1A\u88AB Git \u5FFD\u7565."}),"\n",(0,g.jsx)(e.li,{children:"\u53EF\u4EE5\u4F7F\u7528\u6807\u51C6\u7684 glob \u6A21\u5F0F (\u7B80\u5316\u6B63\u5219\u8868\u8FBE\u5F0F) \u5339\u914D."}),"\n",(0,g.jsxs)(e.li,{children:["\u5339\u914D\u6A21\u5F0F\u53EF\u4EE5\u4EE5 ",(0,g.jsx)(e.code,{children:"/"})," \u5F00\u5934\u9632\u6B62\u9012\u5F52."]}),"\n",(0,g.jsxs)(e.li,{children:["\u5339\u914D\u6A21\u5F0F\u53EF\u4EE5\u4EE5 ",(0,g.jsx)(e.code,{children:"/"})," \u7ED3\u5C3E\u6307\u5B9A\u76EE\u5F55."]}),"\n",(0,g.jsxs)(e.li,{children:["\u8981\u8DDF\u8E2A\u6307\u5B9A\u6A21\u5F0F\u4EE5\u5916\u7684\u6587\u4EF6\u6216\u76EE\u5F55, \u53EF\u4EE5\u5728\u6A21\u5F0F\u524D\u52A0\u4E0A\u60CA\u53F9\u53F7 ",(0,g.jsx)(e.code,{children:"!"})," \u53D6\u53CD."]}),"\n",(0,g.jsxs)(e.li,{children:["GitHub gitignore ",(0,g.jsx)(e.a,{href:"https://github.com/github/gitignore",children:"style"}),"."]}),"\n"]}),"\n",(0,g.jsx)(e.pre,{children:(0,g.jsx)(e.code,{className:"language-bash",children:"# no .a files\n*.a\n\n# but do track lib.a, even though you're ignoring .a files above\n!lib.a\n\n# only ignore the TODO file in the current directory, not subDir/TODO\n/TODO\n\n# ignore all files in the build/ directory\nbuild/\n\n# ignore doc/notes.txt, but not doc/server/arch.txt\ndoc/*.txt\n\n# ignore all .pdf files in the doc/ directory\ndoc/**/*.pdf\n"})})]})}function d(n={}){let{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,g.jsx)(e,{...n,children:(0,g.jsx)(c,{...n})}):c(n)}},30416(n,e,i){i.d(e,{R:()=>l,x:()=>r});var t=i(59471);let g={},o=t.createContext(g);function l(n){let e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(g):n.components||g:l(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);