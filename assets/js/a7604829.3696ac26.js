"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["32255"],{5888(e,n,i){i.r(n),i.d(n,{metadata:()=>t,default:()=>u,frontMatter:()=>o,contentTitle:()=>l,toc:()=>s,assets:()=>d});var t=JSON.parse('{"id":"programming/android/ui","title":"UI","description":"N activities can respond to a particular intent:","source":"@site/content/programming/android/ui.md","sourceDirName":"programming/android","slug":"/programming/android/ui","permalink":"/notes/programming/android/ui","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/android/ui.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Android","permalink":"/notes/tags/android"},{"inline":true,"label":"UI","permalink":"/notes/tags/ui"},{"inline":true,"label":"Layout","permalink":"/notes/tags/layout"},{"inline":true,"label":"Component","permalink":"/notes/tags/component"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"tags":["Programming","Android","UI","Layout","Component"]},"sidebar":"tutorialSidebar","previous":{"title":"Lifecycle","permalink":"/notes/programming/android/lifecycle"},"next":{"title":"Broadcast","permalink":"/notes/programming/android/broadcast"}}'),a=i(62615),r=i(30416);let o={sidebar_position:3,tags:["Programming","Android","UI","Layout","Component"]},l="UI",d={},s=[{value:"Layout",id:"layout",level:2},{value:"Table",id:"table",level:3},{value:"Component",id:"component",level:2},{value:"AlertDialog",id:"alertdialog",level:3},{value:"List View",id:"list-view",level:3},{value:"Custom Layout",id:"custom-layout",level:4},{value:"Listener",id:"listener",level:4},{value:"Customization",id:"customization",level:3},{value:"Drawable",id:"drawable",level:2}];function c(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"ui",children:"UI"})}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsx)(n.p,{children:"N activities can respond to a particular intent:"}),(0,a.jsx)(n.p,{children:"Android will pop(\u5F39\u51FA) up a little dialogue list(\u5BF9\u8BDD\u6846) to\nuser showing application icon defining the intent"}),(0,a.jsx)(n.p,{children:"\u5F53\u6709\u591A\u4E2A\u6D3B\u52A8\u53EF\u76F8\u5E94\u67D0\u4E2A\u7279\u5B9A\u610F\u56FE\u65F6\uFF0C\u7CFB\u7EDF\u5C06\u4F1A\u5F39\u51FA\u5BF9\u8BDD\u6846\u63D0\u793A\u7528\u6237\u9009\u62E9\u4E00\u4E2A\u5E94\u7528\u7684\u6D3B\u52A8\u6216\u8005\u8BBE\u5B9A\u9ED8\u8BA4\u503C (default)"}),(0,a.jsx)(n.p,{children:"e.g. web browsers"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<intent-filter>\n  <action android:name="android.intent.action.MAIN" />\n  <category android:name="android.intent.category.LAUNCHER" />\n</intent-filter>\n'})})]}),"\n",(0,a.jsx)(n.h2,{id:"layout",children:"Layout"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"android:layout_weight"})," \u81EA\u9002\u914D\u5E03\u5C40"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"android:SingleLine"})," \u5355\u884C\u663E\u793A\u6A21\u5F0F"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'android:ellipsize="end"'})," \u6587\u5B57\u8FC7\u591A\u65F6\u7F29\u7565\u65B9\u5F0F"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"LayoutInflater \u4F5C\u7528\u662F\u5C06 layout \u7684 xml \u5E03\u5C40\u6587\u4EF6\u5B9E\u4F8B\u5316\u4E3A View \u7C7B\u5BF9\u8C61\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"View view = LayoutInflater.from(context).inflate(R.layout.title, this/null);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"table",children:"Table"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'<TableLayout android:stretchColumns="1">'})," \u62C9\u4F38\u7B2C 2 \u5217"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'android:layout_span="2"'})," \u5360 2 \u5217"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"component",children:"Component"}),"\n",(0,a.jsx)(n.p,{children:"View(ViewGroup): e.g. button\u3001textbox(\u6587\u672C\u6846)\u3001checkbox(\u590D\u9009\u6846)"}),"\n",(0,a.jsx)(n.h3,{id:"alertdialog",children:"AlertDialog"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'//builder pattern\nAlertDialog.Builder dialogBuilder = new AlertDialog.Builder(context);\n\ndialogBuilder.setTitle("Warning");\ndialogBuilder.setMessage("You are forced to be offline. Please try to login again.");\ndialogBuilder.setCancelable(false);\ndialogBuilder.setPositiveButton("OK", new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        ActivityCollector.finishAll(); // \u9500\u6BC1\u6240\u6709\u6D3B\u52A8\n        Intent intent = new Intent(context, LoginActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(intent); // \u91CD\u65B0\u542F\u52A8LoginActivity\n    }\n});\n\nAlertDialog alertDialog = dialogBuilder.create();\n\n// \u9700\u8981\u8BBE\u7F6EAlertDialog\u7684\u7C7B\u578B,\u4FDD\u8BC1\u5728\u5E7F\u64AD\u63A5\u6536\u5668\u4E2D\u53EF\u4EE5\u6B63\u5E38\u5F39\u51FA\nalertDialog.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);\n\nalertDialog.show();\n'})}),"\n",(0,a.jsx)(n.h3,{id:"list-view",children:"List View"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"ArrayAdapter<String> adapter = new ArrayAdapter<String>(\n    MainActivity.this, android.R.layout.simple_list_item_1, data\n);\nlistView.setAdapter(adapter);\n"})}),"\n",(0,a.jsx)(n.h4,{id:"custom-layout",children:"Custom Layout"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Custom class"}),"\n",(0,a.jsx)(n.li,{children:"Custom Sub Xml(\u5355\u9879)"}),"\n",(0,a.jsxs)(n.li,{children:["Custom ArrayAdapter","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u91CD\u5199\u6784\u9020\u51FD\u6570"}),"\n",(0,a.jsxs)(n.li,{children:["\u91CD\u5199 getView \u65B9\u6CD5","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u91CD\u7528 convertView \u63D0\u5347\u6027\u80FD"}),"\n",(0,a.jsx)(n.li,{children:"ViewHolder \u63D0\u5347\u6027\u80FD"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"\n//\u5185\u90E8\u7C7B\uFF0C\u5176\u4E2D\u5B57\u6BB5\u4E0E\u81EA\u5B9A\u4E49class\u7684\u5B57\u6BB5\u4E00\u81F4\nclass ViewHolder {\n    ImageView fruitImage;\n    TextView fruitName;\n}\npublic FruitAdapter(\n  Context context,\n  int textViewResourceId,\n  List<Fruit> objects) {\n    super(context, textViewResourceId, objects);\n    resourceId = textViewResourceId;\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n\n    Fruit fruit = getItem(position); // \u83B7\u53D6\u5F53\u524D\u9879\u7684Fruit\u5B9E\u4F8B\n    View view;\n    ViewHolder viewHolder;\n\n    //\u5927\u5E45\u63D0\u5347\u6027\u80FD\n    if (convertView == null) {\n        view = LayoutInflater.from(getContext()).inflate(resourceId, null);\n\n        viewHolder = new ViewHolder();\n        viewHolder.fruitImage = (ImageView) view.findViewById(R.id.fruit_image);\n        viewHolder.fruitName = (TextView) view.findViewById(R.id.fruit_name);\n        view.setTag(viewHolder); // \u5C06ViewHolder\u5B58\u50A8\u5728View\u4E2D\n\n    } else {\n        view = convertView;\n        viewHolder = (ViewHolder) view.getTag(); // \u91CD\u65B0\u83B7\u53D6ViewHolder\n    }\n\n    ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image);\n    TextView fruitName = (TextView) view.findViewById(R.id.fruit_name);\n    fruitImage.setImageResource(fruit.getImageId());\n    fruitName.setText(fruit.getName());\n    return view;\n}\n"})}),"\n",(0,a.jsx)(n.h4,{id:"listener",children:"Listener"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"listView.setOnItemClickListener(new OnItemClickListener() {\n    @Override\n    public void onItemClick(\n      AdapterView<?> parent,\n      View view,\n      int position,\n      long id) {\n        Fruit fruit = fruitList.get(position);\n        Toast.makeText(MainActivity.this, fruit.getName(), Toast.LENGTH_SHORT).show();\n    }\n});\n\nadapter.notifyDataSetChanged();           // \u5F53\u6709\u65B0\u6D88\u606F\u65F6,\u5237\u65B0ListView\u4E2D\u7684\u663E\u793A\nmsgListView.setSelection(msgList.size()); // \u5C06ListView\u5B9A\u4F4D\u5230\u6700\u540E\u4E00\u884C\n"})}),"\n",(0,a.jsx)(n.h3,{id:"customization",children:"Customization"}),"\n",(0,a.jsx)(n.p,{children:"custom XML"}),"\n",(0,a.jsx)(n.p,{children:"title.xml"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<LinearLayout\n  xmlns:android="http://schemas.android.com/apk/res/android"\n  android:layout_width="match_parent"\n  android:layout_height="wrap_content"\n  android:background="@drawable/title_bg"\n>\n  <button\n    android:id="@+id/title_back"\n    android:layout_width="wrap_content"\n    android:layout_height="wrap_content"\n    android:layout_gravity="center"\n    android:layout_margin="5dip"\n    android:background="@drawable/back_bg"\n    android:text="Back"\n    android:textColor="#fff"\n  />\n  <TextView\n    android:id="@+id/title_text"\n    android:layout_width="0dip"\n    android:layout_height="wrap_content"\n    android:layout_gravity="center"\n    android:layout_weight="1"\n    android:gravity="center"\n    android:text="Title Text"\n    android:textColor="#fff"\n    android:textSize="24sp"\n  />\n  <button\n    android:id="@+id/title_edit"\n    android:layout_width="wrap_content"\n    android:layout_height="wrap_content"\n    android:layout_gravity="center"\n    android:layout_margin="5dip"\n    android:background="@drawable/edit_bg"\n    android:text="Edit"\n    android:textColor="#fff"\n  />\n</LinearLayout>\n'})}),"\n",(0,a.jsx)(n.p,{children:"custom class"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class TitleLayout extends LinearLayout {\n    public TitleLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        LayoutInflater.from(context).inflate(R.layout.title, this);\n\n        //Register button click Listener\n        titleBack.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ((Activity) getContext()).finish();\n            }\n        });\n        titleEdit.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), "You clicked Edit button", Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        //other awesome things\n        //like material design ripple effect\n        //animations and music\n    }\n\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"drawable",children:"Drawable"}),"\n",(0,a.jsx)(n.p,{children:"\u4FEE\u6539\u7279\u5B9A\u7EC4\u4EF6\u7684\u80CC\u666F\u989C\u8272"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"Resources myColor = getBaseContext().getResources();\n// getBaseContext()\u83B7\u5F97\u57FA\u7840Context\n// getResources()\u83B7\u5F97\u8D44\u6E90\nDrawable color_M = myColor.getDrawable(R.color. lightGreen);\n// \u7531\u8D44\u6E90 myColor\u6765\u83B7\u5F97Drawable\n// R.color.lightGreen\u662F\u989C\u8272\u503C\u7684ID\u5F15\u7528\ntext.setBackgroundDrawable(color_M);\n//\u8BBE\u7F6E\u80CC\u666F\n"})})]})}function u(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},30416(e,n,i){i.d(n,{R:()=>o,x:()=>l});var t=i(59471);let a={},r=t.createContext(a);function o(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);