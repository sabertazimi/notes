"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["45139"],{19997(n,e,i){i.r(e),i.d(e,{metadata:()=>t,default:()=>p,frontMatter:()=>r,contentTitle:()=>a,toc:()=>o,assets:()=>d});var t=JSON.parse('{"id":"cs/algorithms/dp","title":"Dynamic Programming","description":"- \u6700\u4F18\u89E3\u7ED3\u6784\u7279\u5F81: \u4E00\u4E2A\u9009\u62E9 + \u5B50\u95EE\u9898\u7684\u6700\u4F18\u89E3 - \u6240\u6709(\u53EF\u91CD\u590D\u6C42\u89E3)\u5B50\u95EE\u9898\u7684\u6700\u4F18\u89E3\u53EF\u72EC\u7ACB\u6C42\u89E3(\u4E0D\u4E92\u76F8\u5F71\u54CD)","source":"@site/content/cs/algorithms/dp.md","sourceDirName":"cs/algorithms","slug":"/cs/algorithms/dp","permalink":"/notes/cs/algorithms/dp","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/cs/algorithms/dp.md","tags":[{"inline":true,"label":"CS","permalink":"/notes/tags/cs"},{"inline":true,"label":"Algorithm","permalink":"/notes/tags/algorithm"},{"inline":true,"label":"DP","permalink":"/notes/tags/dp"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":22,"frontMatter":{"sidebar_position":22,"tags":["CS","Algorithm","DP"]},"sidebar":"tutorialSidebar","previous":{"title":"Greedy","permalink":"/notes/cs/algorithms/greedy"},"next":{"title":"Simulation","permalink":"/notes/cs/algorithms/simulation"}}'),s=i(62615),l=i(30416);let r={sidebar_position:22,tags:["CS","Algorithm","DP"]},a="Dynamic Programming",d={},o=[{value:"Subproblems",id:"subproblems",level:2},{value:"Problems",id:"problems",level:2},{value:"Optimization",id:"optimization",level:2},{value:"Digital Bits",id:"digital-bits",level:2}];function c(n){let e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"dynamic-programming",children:"Dynamic Programming"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u6700\u4F18\u89E3\u7ED3\u6784\u7279\u5F81: \u4E00\u4E2A\u9009\u62E9 + \u5B50\u95EE\u9898\u7684\u6700\u4F18\u89E3 - \u6240\u6709(\u53EF",(0,s.jsx)(e.strong,{children:"\u91CD\u590D\u6C42\u89E3"}),")\u5B50\u95EE\u9898\u7684\u6700\u4F18\u89E3\u53EF",(0,s.jsx)(e.strong,{children:"\u72EC\u7ACB\u6C42\u89E3"}),"(\u4E0D\u4E92\u76F8\u5F71\u54CD)"]}),"\n",(0,s.jsx)(e.li,{children:"\u9012\u5F52\u5B9A\u4E49\u6700\u4F18\u89E3: \u5217\u51FA\u9012\u5F52\u8868\u8FBE\u5F0F"}),"\n",(0,s.jsx)(e.li,{children:"\u81EA\u5E95\u5411\u4E0A\u6C42\u89E3\u6700\u4F18\u89E3"}),"\n",(0,s.jsx)(e.li,{children:"\u6784\u9020\u6700\u4F18\u89E3(\u989D\u5916\u4FE1\u606F\u6570\u7EC4)"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"subproblems",children:"Subproblems"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5B50\u95EE\u9898\u53EF\u6620\u5C04\u4E3A\u6709\u5411\u56FE, \u5E76\u5BF9\u5176\u8FDB\u884C\u62D3\u6251\u6392\u5E8F: \u5171\u6709 O(n) \u4E2A\u5B50\u95EE\u9898,\n\u6BCF\u4E2A\u5B50\u95EE\u9898\u6700\u591A O(n) \u79CD\u9009\u62E9, \u5219\u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A O(n^2).\u5176\u5BF9\u5E94\u5B50\u95EE\u9898\u56FE\u6709 n \u4E2A\u9876\u70B9, \u6BCF\u4E2A\u9876\u70B9\u6700\u591A\u6709 n-1 \u6761\u8FB9."}),"\n",(0,s.jsx)(e.li,{children:"\u9012\u5F52\u751F\u6210\u53EF\u4EE5\u91CD\u590D\u6C42\u89E3\u7684\u5B50\u95EE\u9898,\u800C\u4E0D\u662F\u4E0D\u65AD\u751F\u6210\u65B0\u7684\u5B50\u95EE\u9898"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"problems",children:"Problems"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5207\u5272\u94A2\u6761\u95EE\u9898: ",(0,s.jsx)(e.code,{children:"max{p[i], r[n-i]}"})]}),"\n",(0,s.jsx)(e.li,{children:"\u77E9\u9635\u76F8\u4E58\u94FE\u95EE\u9898"}),"\n",(0,s.jsxs)(e.li,{children:["\u6700\u5927\u516C\u5171\u5B50\u5E8F\u5217\u95EE\u9898: ",(0,s.jsx)(e.code,{children:"r[i, j]"})," = ",(0,s.jsx)(e.code,{children:"max{r[i, j-1], r[i-1, j]}"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u65E0\u6743\u6700\u77ED\u8DEF\u5F84: ",(0,s.jsx)(e.code,{children:"path[i, j]"})," = ",(0,s.jsx)(e.code,{children:"min{path[i, r], [r, j]}"})]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"optimization",children:"Optimization"}),"\n",(0,s.jsx)(e.p,{children:"dp \u6570\u7EC4\u53EF\u4EE5\u6EDA\u52A8\u4F7F\u7528, \u4ECE\u800C\u8282\u7701\u7A7A\u95F4:"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"dp[m][n]"})," => ",(0,s.jsx)(e.code,{children:"dp[2][n]"})," (",(0,s.jsx)(e.code,{children:"dp[i & 1][j]"}),")."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u5173\u952E: \u6700\u4F18\u5B50\u7ED3\u6784 + \u72B6\u6001\u65E0\u540E\u6548\u6027"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6240\u6709\u80CC\u5305\u95EE\u9898"}),"\n",(0,s.jsx)(e.li,{children:"\u4E8C\u5206\u95EE\u9898:\u6700\u4F18\u4E8C\u5206\u641C\u7D22\u6811/\u6587\u4EF6\u5408\u5E76"}),"\n",(0,s.jsx)(e.li,{children:"\u975E\u8FDE\u7EED\u7279\u5F81\u5E8F\u5217: \u6700\u957F\u5B50\u5E8F\u5217/\u6700\u957F\u4E0A\u5347\u5E8F\u5217"}),"\n",(0,s.jsx)(e.li,{children:"\u591A\u91CD\u90E8\u5206\u548C\u95EE\u9898 e.g. \u6570\u7EC4\u4E2D\u662F\u5426\u5B58\u5728\u4E00\u5BF9\u6570\u7684\u548C\u4E3A xx"}),"\n",(0,s.jsx)(e.li,{children:"\u8BA1\u6570\u95EE\u9898/\u5206\u7EC4\u95EE\u9898/\u5206\u5212\u95EE\u9898"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"digital-bits",children:"Digital Bits"}),"\n",(0,s.jsx)(e.p,{children:"\u6570\u4F4D DP:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7ED9\u5B9A\u533A\u95F4 [a, b], \u6C42\u6EE1\u8DB3\u7279\u5B9A\u8981\u6C42\u7684\u6570, \u8981\u6C42\u4E00\u822C\u4E0E\u5927\u5C0F\u65E0\u5173, \u4E0E\u6570\u4F4D\u7684\u7EC4\u6210\u76F8\u5173"}),"\n",(0,s.jsx)(e.li,{children:"\u89C4\u6A21\u5DE8\u5927, \u65E0\u6CD5\u679A\u4E3E"}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u9012\u589E\u6570: 1234, 2579; \u53CC\u5CF0\u6570: 19280, 26193; \u542B 49: 49, 149, 1492; \u6574\u9664 13: 26, 39 ..."}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"f(a, b) = f(b, 0) - f(a - 1, 0)"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"\u66B4\u529B + \u5B58\u50A8 = \u8BB0\u5FC6\u5316\u641C\u7D22:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u66B4\u529B\u679A\u4E3E\u6BCF\u4E00\u4F4D\u7684 ",(0,s.jsx)(e.code,{children:"(0, ...,9)"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["\u5229\u7528 ",(0,s.jsx)(e.code,{children:"dp[pos][state]"})," \u4E0E ",(0,s.jsx)(e.code,{children:"dfs(pos, state, k, flag)"})," \u8FDB\u884C\u5B58\u50A8."]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"/// \\brief \u6570\u5B57\u5904\u7406\u51FD\u6570\n/// \\param num \u539F\u59CB\u6570\u636E\n/// \\param digit \u4FDD\u5B58\u6BCF\u4E2A\u6570\u4F4D\u7684\u503C\n/// \\param state \u521D\u59CB\u72B6\u6001\nint f(int num){\n    int ans;\n    int pos = 0;\n\n    while(num){\n        digit[++pos]=num%10;\n        num=num/10;\n    }\n\n    return dfs( pos, state , true);\n}\n\n/// \\brief dfs \u51FD\u6570, \u4ECE\u9AD8\u4F4D\u5F00\u59CB\u904D\u5386\n/// \\param f     \u8BB0\u5FC6\u5316\u6570\u7EC4\n/// \\param pos   \u5F53\u524D\u6570\u4F4D\u4E0B\u6807\n/// \\param state \u4E4B\u524D\u6570\u5B57\u7684\u72B6\u6001\n/// \\param flag  \u4E0A\u9650\u6807\u5FD7\nint dfs(int pos, int state, bool flag) {\n    if (pos == -1) {\n        return state == target_state;\n    }\n    if (!exception && ~f[pos][state]) {\n        return f[pos][state];\n    }\n\n    int ans = 0;\n\n    // \u5BF9\u4E8E\u6BCF\u4E00\u4E2A\u6570\u4F4D, \u6C42\u51FA\u679A\u4E3E\u754C\u9650\n    // \u4E00\u822C\u4ECE 0 \u679A\u4E3E\u81F3 9, \u5F53\u5230\u8FBE\u7279\u6B8A\u4F4D\u7F6E\u65F6, \u679A\u4E3E\u4E0A\u9650\u53EF\u80FD\u6539\u53D8\n    int next = exception ? digit[i] : 9;\n\n    for (int digit = 0; digit <= next; digit++) {\n        ans += dfs(pos - 1, new_state(state, digit), exception && digit == next);\n    }\n\n    return flag ? ans : f[pos][state] = ans;\n}\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'typedef long long ll;\n\nint a[20];\n\nll dp[20][state];   //\u4E0D\u540C\u9898\u76EE\u72B6\u6001\u4E0D\u540C\n\nll dfs(int pos, int state, bool lead, bool limit) {\n    // \u9012\u5F52\u8FB9\u754C, \u6309\u4F4D\u679A\u4E3E\u6700\u4F4E\u4F4D\u662F0, pos == -1 \u8868\u793A\u679A\u4E3E\u7ED3\u675F\n    if (pos == -1) {\n        // \u82E5\u53EF\u4EE5\u4FDD\u8BC1\u6BCF\u4E00\u4F4D\u90FD\u5408\u6CD5, \u5219 return 1; \u5426\u5219 return 0\n        return 1;\n    }\n\n    // \u8BB0\u5FC6\u5316\n    if (!limit && !lead && dp[pos][state] != -1) {\n        return dp[pos][state];\n    }\n\n    // \u6839\u636E limit \u5224\u65AD\u679A\u4E3E\u7684\u4E0A\u754C up\n    int up = limit ? a[pos] : 9;\n\n    // \u5F00\u59CB\u8BA1\u6570\n    ll ans=0;\n\n    // \u679A\u4E3E: \u628A\u4E0D\u540C\u60C5\u51B5\u7684\u4E2A\u6570\u52A0\u5230ans\n    for(int i = 0;i <= up; i++)\n    {\n        // \u5F53\u524D\u6570\u4F4D\u679A\u4E3E\u7684\u6570\u662Fi\uFF0C\u6839\u636E\u9898\u76EE\u7684\u7EA6\u675F\u6761\u4EF6\u5206\u7C7B\u8BA8\u8BBA\n        // \u8BA1\u7B97\u4E0D\u540C\u60C5\u51B5\u4E0B\u7684\u4E2A\u6570, \u6839\u636E state \u53D8\u91CF\u6765\u4FDD\u8BC1 i \u7684\u5408\u6CD5\u6027\n        // \u4E00\u5B9A\u8981\u4FDD\u8BC1\u679A\u4E3E\u6570\u7684\u5408\u6CD5\u6027\n\n        // \u6BD4\u5982\u8981\u6C42\u6570\u4F4D\u4E0A\u4E0D\u80FD\u6709 62 \u8FDE\u7EED\u51FA\u73B0, \u90A3\u4E48state \u5C31\u8981\u4FDD\u5B58\u524D\u4E00\u4F4D pre\n        // \u524D\u4E00\u4F4D\u5982\u679C\u662F 6 \u90A3\u4E48\u4F4D\u4E0D\u80FD\u662F 2\n\n        // \u5F53\u4E0D\u5408\u6CD5\u65F6, \u76F4\u63A5 continue\n        if() ...\n        else if()...\n\n        ans += dfs(pos-1, new_state(pos, state) /*\u72B6\u6001\u8F6C\u79FB*/,\n          lead && i==0, limit && i == a[pos])\n    }\n\n    // \u8BA1\u7B97\u7ED3\u675F, \u8BB0\u5F55\u72B6\u6001\n    if (!limit && !lead) {\n        dp[pos][state] = ans;\n    }\n\n    return ans;\n}\n\nll solve(ll x) {\n    int pos=0;\n\n    // \u6570\u4F4D\u5206\u89E3\n    while(x) {\n        a[pos++] = x % 10;\n        x /= 10;\n    }\n\n    // \u4ECE\u6700\u9AD8\u4F4D\u5F00\u59CB\u679A\u4E3E\n    // \u6700\u9AD8\u4F4D\u524D\u5BFC\u4E3A 0, \u4E14\u53D7\u4E0A\u9650\u9650\u5236(\u65E0\u6CD5\u679A\u4E3E\u81F3 9)\n    return dfs(pos-1, state /*\u4E00\u7CFB\u5217\u72B6\u6001 */, true, true);\n}\n\nint main(void) {\n    ll le,ri;\n\n    while (~scanf("%lld %lld", &le, &ri)) {\n        // \u521D\u59CB\u5316dp\u6570\u7EC4\u4E3A-1\n        printf("%lld\\n", solve(ri)-solve(le-1));\n    }\n\n    return 0;\n}\n'})})]})}function p(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},30416(n,e,i){i.d(e,{R:()=>r,x:()=>a});var t=i(59471);let s={},l=t.createContext(s);function r(n){let e=t.useContext(l);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);