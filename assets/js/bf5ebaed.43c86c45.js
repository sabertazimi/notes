"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["39574"],{53876(e,n,s){s.r(n),s.d(n,{metadata:()=>r,default:()=>h,frontMatter:()=>a,contentTitle:()=>t,toc:()=>d,assets:()=>o});var r=JSON.parse('{"id":"programming/linux/system","title":"System","description":"Information","source":"@site/content/programming/linux/system.md","sourceDirName":"programming/linux","slug":"/programming/linux/system","permalink":"/notes/programming/linux/system","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/linux/system.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"OS","permalink":"/notes/tags/os"},{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"System","permalink":"/notes/tags/system"},{"inline":true,"label":"Boot","permalink":"/notes/tags/boot"},{"inline":true,"label":"Grub","permalink":"/notes/tags/grub"},{"inline":true,"label":"SSH","permalink":"/notes/tags/ssh"},{"inline":true,"label":"Administration","permalink":"/notes/tags/administration"},{"inline":true,"label":"Monitoring","permalink":"/notes/tags/monitoring"},{"inline":true,"label":"Crontab","permalink":"/notes/tags/crontab"},{"inline":true,"label":"Power","permalink":"/notes/tags/power"}],"version":"current","lastUpdatedBy":"sabertazimi","lastUpdatedAt":1772425276000,"sidebarPosition":21,"frontMatter":{"sidebar_position":21,"tags":["Programming","OS","Linux","System","Boot","Grub","SSH","Administration","Monitoring","Crontab","Power"]},"sidebar":"tutorialSidebar","previous":{"title":"User","permalink":"/notes/programming/linux/user"},"next":{"title":"Network","permalink":"/notes/programming/linux/network"}}'),i=s(62615),l=s(30416);let a={sidebar_position:21,tags:["Programming","OS","Linux","System","Boot","Grub","SSH","Administration","Monitoring","Crontab","Power"]},t="System",o={},d=[{value:"Information",id:"information",level:2},{value:"GRUB",id:"grub",level:2},{value:"Boot System",id:"boot-system",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Windows Repair",id:"windows-repair",level:3},{value:"Ubuntu Live Repair",id:"ubuntu-live-repair",level:3},{value:"Firmware",id:"firmware",level:2},{value:"SSH",id:"ssh",level:2},{value:"Key",id:"key",level:3},{value:"SSHD",id:"sshd",level:3},{value:"Config File",id:"config-file",level:3},{value:"Key File",id:"key-file",level:3},{value:"\u8FDC\u7A0B\u4F20\u8F93\u6587\u4EF6",id:"\u8FDC\u7A0B\u4F20\u8F93\u6587\u4EF6",level:3},{value:"Systemctl",id:"systemctl",level:2},{value:"Custom Service",id:"custom-service",level:3},{value:"Systemd Analyze",id:"systemd-analyze",level:3},{value:"Verify Unit Files",id:"verify-unit-files",level:3},{value:"Crontab",id:"crontab",level:2},{value:"Job",id:"job",level:2},{value:"Background",id:"background",level:3},{value:"Startup",id:"startup",level:3},{value:"Parallel Execution",id:"parallel-execution",level:2},{value:"Power Management",id:"power-management",level:2},{value:"UPower",id:"upower",level:3},{value:"Systemd Power Targets",id:"systemd-power-targets",level:3},{value:"TLP",id:"tlp",level:3},{value:"CPU Power",id:"cpu-power",level:3},{value:"Thermald",id:"thermald",level:3},{value:"Kernel Module",id:"kernel-module",level:2},{value:"Blocklist",id:"blocklist",level:3}];function c(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"system",children:"System"})}),"\n",(0,i.jsx)(n.h2,{id:"information",children:"Information"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S dmidecode\nsudo dmidecode\n"})}),"\n",(0,i.jsx)(n.h2,{id:"grub",children:"GRUB"}),"\n",(0,i.jsx)(n.h3,{id:"boot-system",children:"Boot System"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u81EA\u52A8\u6302\u8F7D\u9879 ",(0,i.jsx)(n.code,{children:"/etc/fstab"}),", ",(0,i.jsx)(n.code,{children:"etc/rc.local"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"\u81EA\u5B9A\u4E49\u811A\u672C: \u65B0\u5EFA\u76EE\u5F55 (\u52A0\u5165\u73AF\u5883\u53D8\u91CF)."}),"\n",(0,i.jsxs)(n.li,{children:["\u81EA\u5B9A\u4E49\u522B\u540D ",(0,i.jsx)(n.code,{children:"~/.bashrc"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"genfstab -U /mnt > /mnt/etc/fstab\npacman -S grub efibootmgr\ngrub-install --target=x86_64-efi --efi-directory=/boot --boot-directory=/boot --removable\n# grub-install --target=x86_64-efi --efi-directory=/efi --boot-directory=/efi --removable\n# ln -s /efi/grub /boot/grub\ngrub-mkconfig -o /boot/grub/grub.cfg\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"UEFI Mode",type:"tip",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls /sys/firmware/efi/efivars\n"})})}),"\n",(0,i.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"/etc/default/grub"}),"\u914D\u7F6E\u6587\u4EF6, \u7528\u4E8E\u4E00\u4E9B\u57FA\u672C\u7684\u4FEE\u6539\u9879,\n\u5982\u9ED8\u8BA4\u542F\u52A8\u9879, GRUB \u754C\u9762\u7B49\u5F85\u65F6\u957F, GRUB \u4E3B\u9898 etc.\n",(0,i.jsx)(n.code,{children:"info -f grub -n 'Simple configuration'"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Default Startup OS\nGRUB_DEFAULT=0\n\n# Default Timeout\nGRUB_TIMEOUT=5\n\n# https://github.com/vinceliuice/grub2-themes\nGRUB_THEME="/boot/grub/themes/tela/theme.txt"\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"/etc/grub.d/*"}),"\u751F\u6210",(0,i.jsx)(n.code,{children:"/boot/grub/grub.cfg"}),"\u7684\u6267\u884C\u811A\u672C (",(0,i.jsx)(n.code,{children:"update-grub"}),"\u547D\u4EE4),\n\u53EF\u4EE5\u66F4\u7EC6\u81F4\u5730\u4FEE\u6539\u542F\u52A8\u9879, \u5982\u5404\u4E2A\u542F\u52A8\u9879\u7684\u540D\u79F0\u3001\u987A\u5E8F\u7B49."]}),"\n",(0,i.jsx)(n.h3,{id:"windows-repair",children:"Windows Repair"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"easyBCD"})," for non-EFI loader."]}),"\n",(0,i.jsx)(n.li,{children:"For EFI loader, run command:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# root commander\nbcdedit /set "{bootmgr}" path \\EFI\\ubuntu\\grubx64.efi\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ubuntu-live-repair",children:"Ubuntu Live Repair"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo add-apt add-apt-repository ppa:yannubuntu/boot-repair\nsudo apt update\nsudo apt install boot-repair\nboot-repair\n"})}),"\n",(0,i.jsx)(n.h2,{id:"firmware",children:"Firmware"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"fwupdmgr get-devices\nfwupdmgr refresh\nfwupdmgr get-updates\nfwupdmgr update\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ssh",children:"SSH"}),"\n",(0,i.jsx)(n.h3,{id:"key",children:"Key"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ssh-keygen -t rsa\nssh-add ~/.ssh/id_rsa\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sshd",children:"SSHD"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["config file in ",(0,i.jsx)(n.code,{children:"/etc/ssh/sshd_config"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl reload sshd\nsudo service restart sshd\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"AllowUsers root\nAllowUsers sabertaz\n"})}),"\n",(0,i.jsx)(n.h3,{id:"config-file",children:"Config File"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"~/.ssh/config"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Host \u522B\u540D","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["HostName \u4E3B\u673A\u540D(ip) ",(0,i.jsx)(n.code,{children:"ssh user@ip"})]}),"\n",(0,i.jsx)(n.li,{children:"Port \u53EF\u5FFD\u7565"}),"\n",(0,i.jsxs)(n.li,{children:["User \u767B\u5F55\u7528\u6237\u540D ",(0,i.jsx)(n.code,{children:"ssh user@ip"})]}),"\n",(0,i.jsx)(n.li,{children:"PreferredAuthentications publicKey"}),"\n",(0,i.jsxs)(n.li,{children:["IdentityFile \u5BC6\u94A5\u6587\u4EF6\u5B8C\u6574\u8DEF\u5F84 ",(0,i.jsx)(n.code,{children:"ssh -i file"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Host github.com\n  HostName github.com\n  PreferredAuthentications publicKey\n  IdentityFile ~/.ssh/id_rsa\nHost cs.github.com\n  HostName github.com\n  PreferredAuthentications publicKey\n  IdentityFile ~/.ssh/cs\nHost cloud\n    HostName xx.org\n    User  root\n    IdentityFile ~/.ssh/dsl_private_key\nHost bwg\n    HostName 23.106.150.152\n    User root\n    Port 29692\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone git@github.com:user/repo\ngit clone git@cs.github.com:user/repo\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ssh -qTfnN -D 1080 bwg\ngoogle-chrome socks5 127.0.0.1 1080\n"})}),"\n",(0,i.jsx)(n.h3,{id:"key-file",children:"Key File"}),"\n",(0,i.jsxs)(n.p,{children:["Set up ",(0,i.jsx)(n.a,{href:"https://github.com/appleboy/ssh-action",children:"SSH key"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Generate SSH key\nssh-keygen -t ed25519 -a 200 -C \"your_email@example.com\"\n\n# Add SSH public key to remote host\ncat ~/.ssh/id_ed25519.pub | ssh b@B 'cat >> ~/.ssh/authorized_keys'\n\n# Add SSH public key to remote host\nssh-copy-id -i ~/.ssh/id_ed25519.pub user@192.168.x.xxx\n\n# Copy SSH private key to clipboard\nxclip < ~/.ssh/id_ed25519\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Login to remote host\nssh -i sabertaz root@119.29.140.60\n\n# File transfer\nsftp -i sabertaz root@119.29.140.60\n\n# Login to database\nmysql -h 10.66.135.125 -P 3306 -u root -p\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8FDC\u7A0B\u4F20\u8F93\u6587\u4EF6",children:"\u8FDC\u7A0B\u4F20\u8F93\u6587\u4EF6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rsync -ax -e 'ssh -c blowfish' /root/start_dir root@x.x.x.x:/root/dest_dir\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'sshpass -p "$DEPLOY_PASSWORD" \\\n  scp -o StrictHostKeyChecking=no \\\n      -P $DEPLOY_PORT \\\n      -r ./build $DEPLOY_USER@$DEPLOY_ADDR:/var/www/html\n'})}),"\n",(0,i.jsx)(n.h2,{id:"systemctl",children:"Systemctl"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemctl enable local\n"})}),"\n",(0,i.jsxs)(n.p,{children:["in ",(0,i.jsx)(n.code,{children:"/etc/init.d/local"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\n### BEGIN INIT INFO\n# Provides:          local\n# Required-Start:    $all\n# Required-Stop:\n# Default-Start:     3 4 5\n# Default-Stop:\n# Short-Description: Personal start script\n\nsslocal -c shadowsocks.json -d start\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5185\u5B58\u63A7\u5236"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sysctl vm [-options] CONFIG\nswapoff\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-service",children:"Custom Service"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo vim /etc/systemd/system/ruoyi-server.service\nsudo systemctl daemon-reload\nsudo systemctl enable --now ruoyi-server\nsudo systemctl status ruoyi-server\nsudo journalctl -u ruoyi-server -e -f\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"[Unit]\nDescription=RuoYi Server Service\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/java -jar /root/ruoyi-admin.jar\nWorkingDirectory=/root\nUser=root\nRestart=on-failure\nRestartSec=5s\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,i.jsx)(n.h3,{id:"systemd-analyze",children:"Systemd Analyze"}),"\n",(0,i.jsx)(n.p,{children:"\u7CFB\u7EDF\u542F\u52A8\u6027\u80FD\u5206\u6790\u5DE5\u5177, \u7528\u4E8E\u8BCA\u65AD\u542F\u52A8\u65F6\u95F4\u548C\u670D\u52A1\u4F9D\u8D56:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u67E5\u770B\u603B\u4F53\u542F\u52A8\u65F6\u95F4\nsystemd-analyze time\n# \u6309\u670D\u52A1\u542F\u52A8\u8017\u65F6\u6392\u5E8F, \u627E\u51FA\u542F\u52A8\u6700\u6162\u7684\u670D\u52A1\nsystemd-analyze blame\n# \u663E\u793A\u542F\u52A8\u5173\u952E\u8DEF\u5F84, \u627E\u51FA\u5F71\u54CD\u542F\u52A8\u65F6\u95F4\u7684\u74F6\u9888\nsystemd-analyze critical-chain\n# \u751F\u6210 SVG \u542F\u52A8\u4F9D\u8D56\u56FE\nsystemd-analyze plot > boot.svg\n# \u751F\u6210\u70B9\u683C\u5F0F\u4F9D\u8D56\u56FE (\u9700 graphviz \u6E32\u67D3)\nsystemd-analyze dot | dot -Tsvg > boot-deps.svg\n"})}),"\n",(0,i.jsx)(n.h3,{id:"verify-unit-files",children:"Verify Unit Files"}),"\n",(0,i.jsx)(n.p,{children:"\u68C0\u67E5\u670D\u52A1\u914D\u7F6E\u6587\u4EF6\u8BED\u6CD5:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemd-analyze verify [service-file]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"crontab",children:"Crontab"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/crontab"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/crontab.html",children:"Crontab Quick Tutorial"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://crontab.guru",children:"Crontab Generator"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"crontab -l(list)\ncrontab -e(establish)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"m,n"}),": \u5206\u9694\u591A\u4E2A\u65F6\u95F4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"m-n"}),": \u8868\u793A\u65F6\u95F4\u8303\u56F4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/n"}),": \u8868\u793A\u6BCF\u9694 n \u65F6\u95F4."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"\u5929\u6570"}),"\u4E0E",(0,i.jsx)(n.code,{children:"\u661F\u671F"}),"\u4E4B\u95F4\u4E3A",(0,i.jsx)(n.code,{children:"\u903B\u8F91\u6216"}),"\u5173\u7CFB."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/var/spool/cron/user_name/"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/var/log/con"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/etc/cron.*ly"}),": \u65F6\u95F4\u8868."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/etc/anacrontab"}),": \u5F02\u6B65\u65F6\u95F4\u8868."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"job",children:"Job"}),"\n",(0,i.jsx)(n.h3,{id:"background",children:"Background"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"jobs \u2014\u2014 \u6240\u6709\u4F5C\u4E1A"}),"\n",(0,i.jsx)(n.li,{children:"atq \u2014\u2014 \u5EF6\u65F6\u4F5C\u4E1A\u961F\u5217"}),"\n",(0,i.jsx)(n.li,{children:"at -M(\u4E0D\u4F7F\u7528\u90AE\u4EF6\u53D1\u9001\u8FD0\u884C\u7ED3\u679C) -f filename deltaTime"}),"\n",(0,i.jsx)(n.li,{children:"atrm \u4F5C\u4E1A\u53F7/\u540D"}),"\n",(0,i.jsx)(n.li,{children:"bg/fg \u4F5C\u4E1A\u53F7/\u540D"}),"\n",(0,i.jsx)(n.li,{children:"nohup \u811A\u672C & \u2014\u2014 \u8131\u79BB\u63A7\u5236\u53F0\u5E76\u540E\u53F0\u8FD0\u884C\u811A\u672C\n19 ~ -20 \uFF08-20 \u4F18\u5148\u7EA7\u6700\u9AD8\uFF09"}),"\n",(0,i.jsx)(n.li,{children:"nice -n number \u4F5C\u4E1A\u53F7/\u540D"}),"\n",(0,i.jsx)(n.li,{children:"renice number -p PID"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"startup",children:"Startup"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"/etc/rc.local \u2014\u2014 \u7CFB\u7EDF\u5F00\u673A\u4EFB\u52A1"}),"\n",(0,i.jsx)(n.li,{children:"/etc/profile/ /etc/bash.bashrc \u2014\u2014 bash \u542F\u52A8\u4EFB\u52A1/\u8FDC\u7A0B\u767B\u9646\u4EFB\u52A1"}),"\n",(0,i.jsx)(n.li,{children:"/etc/bash.bashrc \u2014\u2014 SSH \u8FDE\u63A5\u4EFB\u52A1"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"parallel-execution",children:"Parallel Execution"}),"\n",(0,i.jsx)(n.p,{children:"\u547D\u4EE4\u95F4\u63D2\u5165\u7B26"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"command1;command2 \u987A\u5E8F\u6267\u884C\uFF0C\u76F8\u5F53\u4E8E C \u8BED\u8A00\u4E2D\u8BED\u53E5\u7ED3\u675F\u7B26"}),"\n",(0,i.jsx)(n.li,{children:"command1&&command2 \u547D\u4EE4\u540C\u65F6\u6267\u884C(\u5F53 1 \u6B63\u786E\u65F6)\u6216\u540C\u65F6\u4E0D\u6267\u884C(\u5F53 1 \u51FA\u9519\u65F6)"}),"\n",(0,i.jsx)(n.li,{children:"command1 || command2 \u53EA\u6267\u884C\u4E00\u4E2A\u547D\u4EE4(\u6B63\u786E\u547D\u4EE4)"}),"\n",(0,i.jsx)(n.li,{children:"command1 | command2 \u524D\u4E00\u6B63\u786E\u547D\u4EE4\u7684\u8F93\u51FA\u7ED3\u679C\u4F5C\u4E3A\u540E\u4E00\u547D\u4EE4\u7684\u8F93\u5165\u7ED3\u679C"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"e.g. ls && echo yes >> .log || echo no >> .log"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"power-management",children:"Power Management"}),"\n",(0,i.jsx)(n.h3,{id:"upower",children:"UPower"}),"\n",(0,i.jsx)(n.p,{children:"Enumerate power devices:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"upower -e\n"})}),"\n",(0,i.jsx)(n.p,{children:"Show detailed device information:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"upower -i /org/freedesktop/UPower/devices/battery_BAT0\n"})}),"\n",(0,i.jsx)(n.p,{children:"Monitor device changes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"upower --monitor\nupower --monitor-detail\n"})}),"\n",(0,i.jsx)(n.h3,{id:"systemd-power-targets",children:"Systemd Power Targets"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemctl suspend      # Suspend to RAM\nsystemctl hibernate    # Suspend to disk\nsystemctl hybrid-sleep # Both RAM and disk\nsystemctl suspend-then-hibernate\n"})}),"\n",(0,i.jsx)(n.h3,{id:"tlp",children:"TLP"}),"\n",(0,i.jsx)(n.p,{children:"Advanced power management for Linux (optimize battery life):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo tlp start        # Start battery saving\nsudo tlp-stat -s      # Show battery status\nsudo tlp-stat         # Show all configuration\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cpu-power",children:"CPU Power"}),"\n",(0,i.jsx)(n.p,{children:"CPU frequency and voltage scaling:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cpupower frequency-info\ncpupower frequency-set -g performance  # performance / powersave / conservative\n"})}),"\n",(0,i.jsx)(n.h3,{id:"thermald",children:"Thermald"}),"\n",(0,i.jsx)(n.p,{children:"Thermal daemon for Intel CPUs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemctl status thermald\n"})}),"\n",(0,i.jsx)(n.h2,{id:"kernel-module",children:"Kernel Module"}),"\n",(0,i.jsx)(n.h3,{id:"blocklist",children:"Blocklist"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"/etc/modprobe.d/blacklist.conf"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u7981\u7528\u8702\u9E23\u5668\u5185\u6838\u6A21\u5757\nblacklist pcspkr\n"})})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},30416(e,n,s){s.d(n,{R:()=>a,x:()=>t});var r=s(59471);let i={},l=r.createContext(i);function a(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);