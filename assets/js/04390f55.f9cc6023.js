"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["57236"],{38842(e,n,t){t.r(n),t.d(n,{metadata:()=>s,default:()=>m,frontMatter:()=>o,contentTitle:()=>a,toc:()=>d,assets:()=>l});var s=JSON.parse('{"id":"programming/design/patterns/mediator","title":"Mediator","description":"\u4E00\u4E2A Mediator \u5BF9\u8C61\u5C01\u88C5\u5BF9\u8C61\u95F4\u7684\u534F\u8BAE (\u4E2D\u592E\u96C6\u6743\u7684\u63A7\u5236\u4E2D\u5FC3):","source":"@site/content/programming/design/patterns/mediator.md","sourceDirName":"programming/design/patterns","slug":"/programming/design/patterns/mediator","permalink":"/notes/programming/design/patterns/mediator","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/design/patterns/mediator.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Design","permalink":"/notes/tags/design"},{"inline":true,"label":"Design Pattern","permalink":"/notes/tags/design-pattern"},{"inline":true,"label":"Behavioral Pattern","permalink":"/notes/tags/behavioral-pattern"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":16,"frontMatter":{"sidebar_position":16,"tags":["Programming","Design","Design Pattern","Behavioral Pattern"]},"sidebar":"tutorialSidebar","previous":{"title":"Iterator","permalink":"/notes/programming/design/patterns/iterator"},"next":{"title":"Observer","permalink":"/notes/programming/design/patterns/observer"}}'),r=t(62615),i=t(30416);let o={sidebar_position:16,tags:["Programming","Design","Design Pattern","Behavioral Pattern"]},a="Mediator",l={},d=[];function c(e){let n={admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mediator",children:"Mediator"})}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u4E2A Mediator \u5BF9\u8C61\u5C01\u88C5\u5BF9\u8C61\u95F4\u7684\u534F\u8BAE (\u4E2D\u592E\u96C6\u6743\u7684\u63A7\u5236\u4E2D\u5FC3):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Defines an object that encapsulates how a set of objects interact."}),"\n",(0,r.jsx)(n.li,{children:"\u6240\u6709\u89C2\u5BDF\u8005\u5171\u4EAB\u4E00\u4E2A\u5171\u6709\u7684\u88AB\u89C2\u5BDF\u8005 (\u6240\u6709\u8BA2\u9605\u8005\u8BA2\u9605\u540C\u4E00\u4E2A\u8282\u70B9)."}),"\n",(0,r.jsx)(n.li,{children:"\u89E3\u9664\u5BF9\u8C61\u95F4\u7684\u5F3A\u8026\u5408\u5173\u7CFB (\u6700\u5C11\u77E5\u8BC6\u539F\u5219), \u72EC\u7ACB\u5730\u6539\u53D8\u5BF9\u8C61\u95F4\u7684\u4EA4\u4E92\u65B9\u5F0F."}),"\n",(0,r.jsx)(n.li,{children:"\u7F51\u72B6\u7684\u591A\u5BF9\u591A\u5173\u7CFB => \u76F8\u5BF9\u7B80\u5355\u7684\u4E00\u5BF9\u591A\u5173\u7CFB."}),"\n",(0,r.jsxs)(n.li,{children:["\u5B58\u5728\u5355\u70B9\u6545\u969C (",(0,r.jsx)(n.code,{children:"Single Point of Failure"}),") \u53EF\u80FD, \u9700\u8981\u5BB9\u707E\u5907\u4EFD."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Mediator Use Case",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u804A\u5929\u5BA4."}),"\n",(0,r.jsx)(n.li,{children:"\u4EA4\u901A\u7CFB\u7EDF."}),"\n",(0,r.jsx)(n.li,{children:"\u6307\u6325\u4E2D\u5FC3."}),"\n",(0,r.jsx)(n.li,{children:"\u6E38\u620F\u670D\u52A1\u5668."}),"\n",(0,r.jsxs)(n.li,{children:["DOM event bubbling and delegation: ",(0,r.jsx)(n.code,{children:"document"})," serves as a ",(0,r.jsx)(n.code,{children:"Mediator"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Global state store: A action => store => B change."}),"\n"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"class Person {\n  constructor(name) {\n    this.name = name\n    this.chatLog = []\n  }\n\n  receive(sender, message) {\n    const s = `${sender}: '${message}'`\n    console.log(`[${this.name}'s chat session] ${s}`)\n    this.chatLog.push(s)\n  }\n\n  say(message) {\n    this.room.broadcast(this.name, message)\n  }\n\n  pm(who, message) {\n    this.room.message(this.name, who, message)\n  }\n}\n\nclass ChatRoom {\n  constructor() {\n    this.people = []\n  }\n\n  broadcast(source, message) {\n    for (const p of this.people) {\n      if (p.name !== source)\n        p.receive(source, message)\n    }\n  }\n\n  join(p) {\n    const joinMsg = `${p.name} joins the chat`\n    this.broadcast('room', joinMsg)\n    p.room = this\n    this.people.push(p)\n  }\n\n  message(source, destination, message) {\n    for (const p of this.people) {\n      if (p.name === destination)\n        p.receive(source, message)\n    }\n  }\n}\n\nconst room = new ChatRoom()\nconst zee = new Person('Zee')\nconst shan = new Person('Shan')\n\nroom.join(zee)\nroom.join(shan)\nzee.say('Hello!!')\n\nconst doe = new Person('Doe')\nroom.join(doe)\ndoe.say('Hello everyone!')\n"})})]})}function m(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},30416(e,n,t){t.d(n,{R:()=>o,x:()=>a});var s=t(59471);let r={},i=s.createContext(r);function o(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);