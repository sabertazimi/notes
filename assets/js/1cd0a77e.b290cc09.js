"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["34584"],{31603(n,e,t){t.r(e),t.d(e,{metadata:()=>l,default:()=>h,frontMatter:()=>r,contentTitle:()=>c,toc:()=>d,assets:()=>o});var l=JSON.parse('{"id":"cs/compilers/top-down","title":"Top-Down Parsing","description":"- \u4ECE\u5F00\u59CB\u7B26\u53F7\u51FA\u53D1\u63A8\u5BFC\u4EFB\u610F\u53E5\u5B50 t, \u4E0E\u7ED9\u5B9A\u53E5\u5B50 s \u8FDB\u884C\u6BD4\u8F83\u5206\u6790","source":"@site/content/cs/compilers/top-down.md","sourceDirName":"cs/compilers","slug":"/cs/compilers/top-down","permalink":"/notes/cs/compilers/top-down","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/cs/compilers/top-down.md","tags":[{"inline":true,"label":"CS","permalink":"/notes/tags/cs"},{"inline":true,"label":"Compiler","permalink":"/notes/tags/compiler"},{"inline":true,"label":"Syntax","permalink":"/notes/tags/syntax"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"tags":["CS","Compiler","Syntax"]},"sidebar":"tutorialSidebar","previous":{"title":"Lexical Analysis","permalink":"/notes/cs/compilers/lexical"},"next":{"title":"Bottom-Up Parsing","permalink":"/notes/cs/compilers/bottom-up"}}'),i=t(62615),s=t(30416);let r={sidebar_position:3,tags:["CS","Compiler","Syntax"]},c="Top-Down Parsing",o={},d=[{value:"\u907F\u514D\u56DE\u6EAF",id:"\u907F\u514D\u56DE\u6EAF",level:2},{value:"\u9012\u5F52\u4E0B\u964D",id:"\u9012\u5F52\u4E0B\u964D",level:2},{value:"LL(1)",id:"ll1",level:2},{value:"nullable sets",id:"nullable-sets",level:3},{value:"first sets",id:"first-sets",level:3},{value:"follow sets",id:"follow-sets",level:3},{value:"select sets",id:"select-sets",level:3},{value:"\u5206\u6790\u8868",id:"\u5206\u6790\u8868",level:3},{value:"\u89E3\u51B3\u51B2\u7A81",id:"\u89E3\u51B3\u51B2\u7A81",level:3},{value:"\u6D88\u9664\u76F4\u63A5\u5DE6\u9012\u5F52",id:"\u6D88\u9664\u76F4\u63A5\u5DE6\u9012\u5F52",level:3},{value:"\u6D88\u9664\u95F4\u63A5\u5DE6\u9012\u5F52",id:"\u6D88\u9664\u95F4\u63A5\u5DE6\u9012\u5F52",level:3},{value:"\u975E LL(1) \u6587\u6CD5",id:"\u975E-ll1-\u6587\u6CD5",level:3}];function a(n){let e={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"top-down-parsing",children:"Top-Down Parsing"})}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsx)(e.mermaid,{value:'flowchart LR\n    A["Tokens + Grammar"] --\x3e|Syntax Analysis| B["AST"]'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4ECE\u5F00\u59CB\u7B26\u53F7\u51FA\u53D1\u63A8\u5BFC\u4EFB\u610F\u53E5\u5B50 t, \u4E0E\u7ED9\u5B9A\u53E5\u5B50 s \u8FDB\u884C\u6BD4\u8F83\u5206\u6790"}),"\n",(0,i.jsx)(e.li,{children:"\u5229\u7528\u5206\u6790\u6811\u8FDB\u884C\u9010\u53F6\u5B50\u5339\u914D, \u82E5\u5339\u914D\u5931\u8D25\u5219\u8FDB\u884C\u56DE\u6EAF"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"bool top_down_parsing(tokens[]) {\n  i = 0;\n  stack = [S];\n\n  while (stack != []) {\n    if (stack[top] is a terminal t) {\n      t == tokens[i] ? pop(i++) : backtrack();\n    } else if (stack[top] is a non_terminal T) {\n      pop();\n      push(T next expansion); // \u81EA\u53F3\u5411\u5DE6\u538B\u6808, e.g. pop(S), push(N_right), push(V), push(N_left)\n    } else {\n      throw new SyntaxError();\n    }\n  }\n\n  return i >= tokens.length && is_empty(stack) ? true : false;\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u907F\u514D\u56DE\u6EAF",children:"\u907F\u514D\u56DE\u6EAF"}),"\n",(0,i.jsx)(e.p,{children:"\u5229\u7528\u524D\u770B\u7B26\u53F7\u907F\u514D\u56DE\u6EAF"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"Sentence -> Noun Verb Noun\nNoun -> sheep\n  | tiger\n  | grass\n  | water\nVerb -> eat\n  | drink\n"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"tiger eat water: \u5411\u524D\u770B\u975E\u7EC8\u7ED3\u7B26\u63A8\u5BFC\u51FA\u7684\u6240\u6709\u7EC8\u7ED3\u7B26\u4E2D\u5339\u914D tiger \u7684\u7EC8\u7ED3\u7B26;\n\u4E0D\u5411\u524D\u770B,\u5219\u5148\u63A8\u5BFC N, \u518D\u63A8\u5BFC n, \u4F46 n \u4E0D\u4E00\u5B9A\u5339\u914D tiger, \u5219\u9700\u8FDB\u884C\u56DE\u6EAF;\n\u5411\u524D\u770B\u4E00\u4E2A\u5B57\u7B26, \u76F4\u63A5\u63A8\u5BFC N --\x3e n, \u540C\u65F6\u76F4\u63A5\u627E\u5BFB\u5339\u914D tiger \u7684\u7EC8\u7ED3\u7B26"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"S -> N V N\nN -> (sheep)tiger\nV -> eat\nN -> (sheep-tiger-grass)water\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u9012\u5F52\u4E0B\u964D",children:"\u9012\u5F52\u4E0B\u964D"}),"\n",(0,i.jsx)(e.p,{children:"Recursive descent (\u9884\u6D4B\u5206\u6790\u7B97\u6CD5):"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5206\u6CBB\u7B97\u6CD5: \u6BCF\u4E2A\u975E\u7EC8\u7ED3\u7B26\u6784\u9020\u4E00\u4E2A",(0,i.jsx)(e.strong,{children:"\u5206\u6790\u51FD\u6570"})]}),"\n",(0,i.jsxs)(e.li,{children:["\u524D\u770B\u7B26\u53F7: \u7528",(0,i.jsx)(e.strong,{children:"\u524D\u770B\u7B26\u53F7"}),"\u6307\u5BFC\u4EA7\u751F\u5F0F\u89C4\u5219\u7684\u9009\u62E9(expansion)"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"parse_S(tokens[]) {\n  parse_N(tokens[0]);\n  parse_V(tokens[1]);\n  parse_N(tokens[2]);\n}\n\nparse_N(token) {\n  if (token == s|t|g|w) {\n    return true;\n  } else {\n    throw new SyntaxError();\n  }\n}\n\nparse_V(token) {\n  if (token == e|d) {\n    return true;\n  } else {\n    throw new SyntaxError();\n  }\n}\n"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Use save pointer to implement roll back"}),"\n",(0,i.jsx)(e.li,{children:"Use logical OR expression to replace nested if-else structure:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"bool term(TOKEN tok) {\n    return *next++ == tok;\n}\n\nbool E1(void) {\n    return T();\n}\n\nbool E2(void) {\n    return T()\n        && term(PLUS)\n        && E();\n}\n\nbool E(void) {\n    // roll back pointer\n    TOKEN *save = next;\n\n    return (next = save, E1())\n        || (next = save, E2());\n}\n\nbool T1(void) {\n    return term(INT);\n}\n\nbool T2(void) {\n    return term(INT)\n        && term(TIMES)\n        && T();\n}\n\nbool T3(void) {\n    return term(OPEN)\n        && E()\n        && term(CLOSE);\n}\n\nbool T(void) {\n    // roll back pointer\n    TOKEN *save = next;\n\n    return (next = save, T1())\n        || (next = save, T2())\n        || (next = save, T3());\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"// X -> a\n//  | XX\n//  | aXXX\n//  | aXXXXb\nparse_X() {\n  token = nextToken();\n\n  switch (token) {\n    case ...: // i: token == atom_char or parse_XX();\n    case ...: // j: token == atom_char, token = nextToken(), parse_XXX();\n    // k: token == atom_char, token = nextToken(),\n    // parse_XXXX(), token=nextToken(), token == b\n    case ...:\n    default: throw new SyntaxError();\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"ll1",children:"LL(1)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4ECE\u5DE6(L)\u5411\u53F3\u8BFB\u5165\u7A0B\u5E8F(left to right scan)"}),"\n",(0,i.jsx)(e.li,{children:"\u6700\u5DE6(L)\u63A8\u5BFC: \u4F18\u5148\u63A8\u5BFC\u6700\u5DE6\u4FA7\u975E\u7EC8\u7ED3\u7B26(leftmost derivation)"}),"\n",(0,i.jsx)(e.li,{children:"\u4E00\u4E2A(1)\u524D\u770B\u7B26\u53F7(look ahead)"}),"\n",(0,i.jsxs)(e.li,{children:["\u5206\u6CBB\u7B97\u6CD5: \u6BCF\u4E2A\u975E\u7EC8\u7ED3\u7B26\u6784\u9020\u4E00\u4E2A",(0,i.jsx)(e.strong,{children:"first set"})," \u548C\u4E00\u4E2A ",(0,i.jsx)(e.strong,{children:"follow set"}),", \u6700\u540E\u4E3A\u6BCF\u4E2A\u89C4\u5219\u6784\u9020\u4E00\u4E2A ",(0,i.jsx)(e.strong,{children:"select set"})]}),"\n",(0,i.jsx)(e.li,{children:"\u5206\u6790\u8868\u9A71\u52A8(\u7531 first sets/follow sets/select sets \u63A8\u5BFC\u5206\u6790\u8868)"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"bool ll1_parsing(tokens[]) {\n  i = 0;\n  stack = [S];\n\n  while (stack != []) {\n    if (stack[top] is a terminal t) {\n      t == tokens[i] ? pop(i++) : throw new SyntaxError();\n    } else if (stack[top] is a non_terminal T) {\n      pop();\n      // push(T correct expansion);\n      // \u81EA\u53F3\u5411\u5DE6\u538B\u6808, e.g. pop(S), push(N_right), push(V), push(N_left)\n      push(select_table[T][tokens[i]] \u5BF9\u5E94\u9879(\u89C4\u5219\u7F16\u53F7)\u6240\u5BF9\u5E94\u89C4\u5219\u7684\u53F3\u8FB9\u5F0F\u5B50);\n    } else {\n      throw new SyntaxError();\n    }\n  }\n\n  return i >= tokens.length && is_empty(stack) ? true : false;\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"nullable-sets",children:"nullable sets"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5B58\u5728\u89C4\u5219: ",(0,i.jsx)(e.code,{children:"X -> epsilon"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["\u6216\u8005: ",(0,i.jsx)(e.code,{children:"X -> Y1Y2...Yn"}),", \u4E14\u5B58\u5728\u89C4\u5219 ",(0,i.jsx)(e.code,{children:"Y1 -> epsilon, ..., Yn -> epsilon"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["\u5373 : ",(0,i.jsx)(e.code,{children:"X -*> epsilon"})," (epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(X))."]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"nullable = {};\n\nwhile (nullable is still changing) {\n  foreach (production p: X -> beta) {\n    if ((beta == epsilon) || (beta == Y1...Yn\n      && Y1 <- nullable && ... && Yn <- nullable)) {\n      nullable += X;\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"first-sets",children:"first sets"}),"\n",(0,i.jsxs)(e.p,{children:["first(X) = ",(0,i.jsx)(e.code,{children:"{t | X -_> talpha}"})," U ",(0,i.jsx)(e.code,{children:"{epsilon | X-_>epsilon}"})," :"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["first(t) = ",(0,i.jsx)(e.code,{children:"{t}"})]}),"\n",(0,i.jsxs)(e.li,{children:["epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(X): X -> epsilon or X -> A1...An, epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(Ai)"]}),"\n",(0,i.jsxs)(e.li,{children:["first(alpha) ",(0,i.jsx)(e.code,{children:"<-"})," first(X): X -> A1..Analpha, epsilon ",(0,i.jsx)(e.code,{children:"<-"})," first(Ai)"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"first sets \u4E0D\u52A8\u70B9\u7B97\u6CD5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"foreach (non_terminal N) {\n  first(N) = {};\n}\n\nwhile (some sets is changing) {\n  foreach (production p: N->beta1...beta_n) {\n    foreach (beta_i from beta1 up to beta_n) {\n      if (beta_i == a) {\n      // e.g. N->abX: first(N) += {a}\n        first(N) += {a};\n        break;\n      } else if (beta_i == M) {\n        first(N) += first(M);\n        if (M is not in nullable) {\n          break;\n        } // else continue this loop to add first(beta_next) into first(N)\n      }\n    }\n  }\n}\n"})}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"NonTerminal"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"First Set"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"S"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{s, t, g, w}"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"N"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{s, t, g, w}"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"V"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{e, d}"})})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"follow-sets",children:"follow sets"}),"\n",(0,i.jsxs)(e.p,{children:["follow(X) = ",(0,i.jsx)(e.code,{children:"{t | S -*> beta X t epsilon}"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["for ",(0,i.jsx)(e.code,{children:"X -> AB"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"first(B) <- follow(A)"}),", ",(0,i.jsx)(e.code,{children:"follow(X) <- follow(B)"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["if ",(0,i.jsx)(e.code,{children:"B -*> epsilon"}),": ",(0,i.jsx)(e.code,{children:"follow(X) <- follow(A)"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["for ",(0,i.jsx)(e.code,{children:"A -> alpha X beta"}),": ",(0,i.jsx)(e.code,{children:"first(beta) - {epsilon} <- follow(X)"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"$ <- follow(S)"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"follow sets \u4E0D\u52A8\u70B9\u7B97\u6CD5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"foreach (non_terminal N) {\n  follow(N) = {};\n}\n\nwhile (some sets is changing) {\n  foreach (production p: N->beta1...beta_n) {\n\n        // temp: follow(left) <- follow(right)\n    temp = follow(N);\n\n    foreach (beta_i from beta_n down to beta1) {\n      if (beta_i == a) {\n        temp = {a};\n      } else if (beta_i == M) {\n        follow(M) += temp\n        temp = (M is not nullable) ? (first(M)) : (temp + first(M))\n      }\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"select-sets",children:"select sets"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5F53 N -> Y1...Yn \u53F3\u8FB9 Y \u5168\u4E3A nullable \u65F6, select(p) += follow(N)"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"select sets \u4E0D\u52A8\u70B9\u7B97\u6CD5:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"foreach (production p) {\n  select(p) = {}\n}\n\ncalculate_select_set(production p: N->beta1...beta_n) {\n  foreach (beta_i from beta1 up to beta_n) {\n    if (beta_i == a) {\n      select(p) += {a};\n      break;\n    } else if (beta_i == M) {\n      select(p) += first(M);\n      if (M is not in nullable) {\n        break;\n      }\n    }\n  }\n\n  // all betas are in nullable (\u5F53\u524D\u89C4\u5219\u7684\u6240\u6709\u53F3\u8FB9\u7B26\u53F7\u90FD\u662F\u53EF\u7A7A\u96C6)\n  // \u6545, select(p) \u5FC5\u987B\u5305\u62EC follow(M) (\u5F53\u63A8\u5BFC\u51FA\u53F3\u8FB9\u7B26\u53F7\u90FD\u4E3A\u7A7A\u65F6, first(p) \u5373\u4E3A follow(M))\n  if (i > n) {\n    first(N) += follow(N);\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5206\u6790\u8868",children:"\u5206\u6790\u8868"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7ED3\u5408 nullable sets \u51C6\u786E\u6C42\u51FA first sets"}),"\n",(0,i.jsx)(e.li,{children:"\u518D\u5229\u7528 first sets \u51C6\u786E\u6C42\u51FA follow sets"}),"\n",(0,i.jsx)(e.li,{children:"\u518D\u5229\u7528 first sets, \u5E76\u7ED3\u5408 follow sets(\u5168\u7A7A\u96C6\u4FEE\u6B63) \u51C6\u786E\u6C42\u51FA \u5206\u6790\u8868:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"0: z -> d\n1: | X Y Z\n2: Y -> c\n3: |\n4: X -> Y\n5: | a\n"})}),"\n",(0,i.jsxs)(e.p,{children:["nullable = ",(0,i.jsx)(e.code,{children:"{X, Y}"})]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"}}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"X"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Y"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Z"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"first"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{c}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"follow"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{}"})})]})]})]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"production"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"0"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"1"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"2"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"3"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"4"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"5"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"select"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{c}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a, c, d}"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"{a}"})})]})})]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Non-Terminal"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"a"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"c"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"d"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Z"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"1"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"0, 1"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Y"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"3"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"2, 3"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"X"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.code,{children:"4, 5"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"4"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"4"})]})]})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u6570\u5B57\u4E3A\u89C4\u5219\u7F16\u53F7"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u89E3\u51B3\u51B2\u7A81",children:"\u89E3\u51B3\u51B2\u7A81"}),"\n",(0,i.jsx)(e.p,{children:"\u5206\u6790\u8868\u67D0\u9879\u6709\u591A\u4E2A\u7F16\u53F7\u65F6, \u901A\u8FC7\u6587\u6CD5\u91CD\u5199\u6D88\u9664\u5DE6\u9012\u5F52, \u4F7F\u6587\u6CD5\u9002\u5E94 L(\u6700\u5DE6\u63A8\u5BFC):"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6539\u5199\u6210\u53F3\u9012\u5F52\u6587\u6CD5"}),"\n",(0,i.jsx)(e.li,{children:"\u89C4\u5B9A\u4F18\u5148\u7EA7\u4E0E\u7ED3\u5408\u6027"}),"\n",(0,i.jsx)(e.li,{children:"\u63D0\u53D6\u5DE6\u516C\u56E0\u5F0F(Common Prefix)"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"E -> T+E\n    |T\n\nE -> TX\nX -> +E\n    |epsilon\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u6D88\u9664\u76F4\u63A5\u5DE6\u9012\u5F52",children:"\u6D88\u9664\u76F4\u63A5\u5DE6\u9012\u5F52"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"S -> Salpha1\n    |Salpha2\n    ...\n    |Salpha_n\n    |beta1\n    |beta2\n    ...\n    |beta_m\n\nS -> beta1S'\n    |beta2S'\n    ...\n    |beta_nS'\nS'-> alpha1S'\n    |alpha2S'\n    ...\n    |alpha_nS'\n    |epsilon\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u6D88\u9664\u95F4\u63A5\u5DE6\u9012\u5F52",children:"\u6D88\u9664\u95F4\u63A5\u5DE6\u9012\u5F52"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u628A\u6587\u6CD5 G \u7684\u6240\u6709\u975E\u7EC8\u7ED3\u7B26\u6309\u4EFB\u4E00\u987A\u5E8F\u6392\u5217, e.g. A1, A2, \u2026, An"}),"\n",(0,i.jsx)(e.li,{children:"\u6D88\u9664 Ai \u89C4\u5219\u4E2D\u7684\u76F4\u63A5\u5DE6\u9012\u5F52: \u628A\u5F62\u5982 Ai\u2192Aj\u03B3 \u7684\u4EA7\u751F\u5F0F\n\u6539\u5199\u6210 Ai\u2192\u03B41\u03B3 /\u03B42\u03B3 /\u2026/\u03B4k\u03B3(\u5176\u4E2D Aj\u2192\u03B41 /\u03B42 /\u2026/\u03B4k \u662F\u5173\u4E8E\u7684 Aj \u5168\u90E8\u89C4\u5219)"}),"\n",(0,i.jsx)(e.li,{children:"\u53BB\u6389\u591A\u4F59\u7684\u89C4\u5219(\u4E0D\u53EF\u8FBE\u89C4\u5219)"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n#include <string>\n#include <fstream>\n\nusing namespace std;\n\nstruct WF {\n    string left; //\u5B9A\u4E49\u4EA7\u751F\u5F0F\u7684\u5DE6\u90E8\n    string right; //\u5B9A\u4E49\u4EA7\u751F\u5F0F\u7684\u53F3\u90E8\n};\n\n/*\n * count: number of non-terminal symbols\n */\nvoid Removing(WF *p,char *q,int n,int count) {\n\n    int count1 = n;\n    int flag = 0;\n\n  // \u5224\u65AD\u7B2C\u4E00\u4E2A\u975E\u7EC8\u7ED3\u7B26\u662F\u5426\u5B58\u5728\u76F4\u63A5\u5DE6\u9012\u5F52 if(p[i].left[0]==q[0])\n    for (int i = 0; i < n; i++) {\n        if (p[i].left[0] == p[i].right[0]) {\n            flag++;\n        }\n    }\n\n  // \u5982\u679C\u5B58\u5728\u76F4\u63A5\u5DE6\u9012\u5F52\u5219\u6D88\u9664\u76F4\u63A5\u5DE6\u9012\u5F52\n    if (flag != 0)\n    {\n        for (int i = 0; i < n; i++) {\n            if (p[i].left[0] == q[0]) {\n                if (p[i].left[0] == p[i].right[0]) {\n                  string str;\n                    str = p[i].right.substr(1,int (p[i].right.length())); // \u53D6\u53F3\u90E8\u7B2C\u4E8C\u4F4D\u5F00\u59CB\u7684\u5B57\u4E32\u8D4B\u7ED9str\n\n                    // E->E+T => E\'->+TE\'\n                    string temp = p[i].left;\n                    string temp1 = "\'";\n                    p[i].left = temp+temp1;\n                    p[i].right = str+p[i].left;\n                } else {\n                    // E->T => E->TE\'\n                    string temp=p[i].left;\n                    string temp1="\'";\n                    temp=temp+temp1;\n                    p[i].right=p[i].right+temp;\n                }\n            }\n        }\n\n        string str="\'";\n        p[count1].left=p[0].left[0]+str;\n        p[count1].right="\u03B5";\n    }\n\n  // \u5BF9\u6BCF\u4E00\u4E2A\u975E\u7EC8\u7ED3\u7B26\u8FED\u4EE3\n    for ( int i = 0; i <= count; i++) {\n\n      // \u5BF9\u6BCF\u4E00\u4E2A\u5C0F\u4E8E i \u7684\u975E\u7EC8\u7ED3\u7B26\n        for (int j = 0; j < i; j++) {\n\n          // \u5BF9\u6BCF\u4E00\u4E2A\u4EA7\u751F\u5F0F\n            for (int g = 0; g < n; g++) {\n\n              // i \u975E\u7EC8\u7ED3\u7B26\u4E0E\u7B2C g \u4EA7\u751F\u5F0F\u5DE6\u8FB9\u7B2C\u4E00\u4E2A\u5B57\u6BCD\u76F8\u7B49\n                if (q[i] == p[g].left[0]) {\n\n          // g \u4EA7\u751F\u5F0F\u53F3\u8FB9\u4EA7\u751F\u5F0F\u7B2C\u4E00\u4E2A\u7B26\u53F7\u4E0E\u7B2C j \u4E2A\u975E\u7EC8\u7ED3\u7B26\u76F8\u7B49\n                    if (p[g].right[0] == q[j]) {\n                        for (int h = 0; h < n*n; h++) {\n                            if (p[h].left[0] == q[j]\n                              && int (p[h].left.length()) == 1) {\n                                string str;\n                                str = p[g].right.substr(\n                                  1,\n                                  int (p[g].right.length ()));\n                                p[++count1].left = p[g].left;\n                                p[count1].right = p[h].right + str;\n                            }\n                        }\n\n                        p[g].left="";\n                        p[g].right="";\n                    }\n                }\n            }\n        }\n    }\n\n  // \u53BB\u9664\u95F4\u63A5\u9012\u5F52\u4EA7\u751F\u5F0F\n    for(int i = 0; i <= count; i++) {\n        flag = 0;\n\n        for (int j = 0; j < n*n; j++) {\n            if (p[j].left[0] == q[i]) {\n                if(p[j].left[0] == p[j].right[0]) {\n                    flag++;\n                }\n            }\n        }\n\n        if (flag != 0) {\n            for (int j = 0; j <= n*n; j++) {\n                if (p[j].left[0] == q[i]) {\n                    if (p[j].left[0] == p[j].right[0]) {\n                        string str;\n                        str = p[j].right.substr(1,int (p[j].right.length()));\n                        string temp = p[j].left;\n                        string temp1 = "\'";\n                        p[j].left = temp + temp1;\n                        p[j].right = str + p[j].left;\n                    } else {\n                        string temp = p[j].left;\n                        string temp1 = "\'";\n                        temp = temp + temp1;\n                        p[j].right = p[j].right + temp;\n                    }\n                }\n            }\n\n            string str = "\'";\n            p[++count1].left = q[i] + str;\n            p[count1].right = "\u03B5";\n        }\n    }\n}\n\nint Delete(WF *p,int n) {\n    return 0;\n}\n\nint main() {\n    ofstream OutFile("result.txt");\n\n    int i,\n      j,\n      flag = 0,\n      count = 1,\n      n;\n\n    cout<<"\u8BF7\u8F93\u5165\u6587\u6CD5\u4EA7\u751F\u5F0F\u4E2A\u6570n\uFF1A"<<endl;\n    cin>>n;\n    WF *p=new WF[50];\n    cout<<"\u8BF7\u8F93\u5165\u6587\u6CD5\u7684\u4E2A\u4EA7\u751F\u5F0F\uFF1A"<<endl;\n\n  // input productions\n    for (i = 0; i < n; i++) {\n        cin>>p[i].left;\n        cout<<"->"<<endl;\n        cin>>p[i].right;\n        cout<<endl;\n    }\n    cout<<endl;\n    OutFile<<"\u5373\u8F93\u5165\u7684\u6587\u6CD5\u4EA7\u751F\u5F0F\u4E3A\uFF1A"<<endl;\n\n    // cout<<"\u5373\u8F93\u5165\u7684\u6587\u6CD5\u4EA7\u751F\u5F0F\u4E3A\uFF1A"<<endl;\n    for (i = 0; i < n; i++) {\n        // cout<<p[i].left<<"--\x3e"<<p[i].right<<endl;\n        OutFile<<p[i].left<<"--\x3e"<<p[i].right<<endl;\n    }\n    OutFile<<"*********************"<<endl;\n\n    // cout<<"*********************"<<endl;\n    char q[20];    // \u5BF9\u4EA7\u751F\u5F0F\u7684\u975E\u7EC8\u7ED3\u7B26\u6392\u5E8F\u5E76\u5B58\u53D6\u5728\u5B57\u7B26\u6570\u7EC4q\n    q[0] = p[0].left[0]; // \u628A\u4EA7\u751F\u5F0F\u7684\u7B2C\u4E00\u4E2A\u975E\u7EC8\u7ED3\u7B26\u5B58\u5165q\u4E2D\n\n  // \u5BF9\u975E\u7EC8\u7ED3\u7B26\u6392\u5E8F\u5E76\u5B58\u53D6\n    for (i = 1; i < n; i++) {\n        flag = 0;\n        for (j = 0; j < i; j++) {\n      // \u6839\u636Ej<i\u5FAA\u73AF\u907F\u514D\u91CD\u590D\u975E\u7EC8\u7ED3\u7B26\u56E0\u6B64\u7531\u6807\u5FD7\u4F4D\u5224\u65AD\n            if(p[i].left==p[j].left) {\n              flag++;\n            }\n        }\n\n        if(flag==0) {\n          // \u6CA1\u6709\u91CD\u590D\u52A0\u5165q\u6570\u7EC4\u4E2D\n            q[count++]=p[i].left[0];\n        }\n    }\n    count--;\n\n  // \u8C03\u7528\u6D88\u9664\u9012\u5F52\u5B50\u51FD\u6570\n    Removing(p,q,n,count);\n    // \u5220\u9664\u65E0\u7528\u4EA7\u751F\u5F0F\n    Delete(p,n);\n\n    OutFile<<"\u6D88\u9664\u9012\u5F52\u540E\u7684\u6587\u6CD5\u4EA7\u751F\u5F0F\u4E3A\uFF1A"<<endl;\n    // cout<<"\u6D88\u9664\u9012\u5F52\u540E\u7684\u6587\u6CD5\u4EA7\u751F\u5F0F\u4E3A\uFF1A"<<endl;\n    for (i = 0; i <= count; i++) {\n        for (int j = 0; j <= n*n; j++) {\n            if ((p[j].left[0] == q[i]) && int (p[j].left.length ()) == 1) {\n                OutFile<<p[j].left<<"--\x3e"<<p[j].right<<endl;\n        // cout<<p[j].left<<"--\x3e"<<p[j].right<<endl;\n            } else {\n              continue;\n            }\n        }\n\n        for (j = 0; j <= n*n; j++) {\n            if((p[j].left[0] == q[i]) && int (p[j].left.length ()) == 2) {\n                OutFile<<p[j].left<<"--\x3e"<<p [j].right<<endl;\n            // cout<<p[j].left<<"--\x3e"<<p[j].right<<endl;\n            } else {\n              continue;\n            }\n        }\n    }\n    return 0;\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u975E-ll1-\u6587\u6CD5",children:"\u975E LL(1) \u6587\u6CD5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"ambiguous grammar"}),"\n",(0,i.jsx)(e.li,{children:"left recursive grammar"}),"\n",(0,i.jsx)(e.li,{children:"not left factored grammar(\u672A\u63D0\u53D6\u5C55\u5F00\u5F0F\u7684\u516C\u56E0\u5B50)"}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},30416(n,e,t){t.d(e,{R:()=>r,x:()=>c});var l=t(59471);let i={},s=l.createContext(i);function r(n){let e=l.useContext(s);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);