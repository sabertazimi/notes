"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["14267"],{60434(e,n,i){i.r(n),i.d(n,{metadata:()=>t,default:()=>h,frontMatter:()=>l,contentTitle:()=>r,toc:()=>c,assets:()=>a});var t=JSON.parse('{"id":"programming/linux/terminal","title":"Terminal","description":"- \u7535\u4F20\u6253\u5B57\u673A (TeleTypeWriter, TTY) \u662F\u7269\u7406\u8BBE\u5907,","source":"@site/content/programming/linux/terminal.md","sourceDirName":"programming/linux","slug":"/programming/linux/terminal","permalink":"/notes/programming/linux/terminal","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/linux/terminal.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"OS","permalink":"/notes/tags/os"},{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"Terminal","permalink":"/notes/tags/terminal"},{"inline":true,"label":"Tmux","permalink":"/notes/tags/tmux"}],"version":"current","lastUpdatedBy":"sabertazimi","lastUpdatedAt":1772304395000,"sidebarPosition":10,"frontMatter":{"sidebar_position":10,"tags":["Programming","OS","Linux","Terminal","Tmux"]},"sidebar":"tutorialSidebar","previous":{"title":"Shell Scripts","permalink":"/notes/programming/linux/shell"},"next":{"title":"Toolchain","permalink":"/notes/programming/linux/toolchain"}}'),s=i(62615),o=i(30416);let l={sidebar_position:10,tags:["Programming","OS","Linux","Terminal","Tmux"]},r="Terminal",a={},c=[{value:"TTY",id:"tty",level:2},{value:"Tmux",id:"tmux",level:2},{value:"Tmux Hotkeys",id:"tmux-hotkeys",level:3},{value:"Tmux Session",id:"tmux-session",level:3},{value:"Tmux Window",id:"tmux-window",level:3},{value:"Tmux Pane",id:"tmux-pane",level:3},{value:"Tmux Scroll",id:"tmux-scroll",level:3},{value:"Tmux Configuration",id:"tmux-configuration",level:3},{value:"Ghostty",id:"ghostty",level:2},{value:"Windows",id:"windows",level:2}];function d(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"terminal",children:"Terminal"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7535\u4F20\u6253\u5B57\u673A (TeleTypeWriter, TTY) \u662F\u7269\u7406\u8BBE\u5907,\n\u6700\u521D\u662F\u4E3A\u7535\u62A5\u8BBE\u8BA1, \u540E\u6765\u88AB\u8FDE\u63A5\u5230\u8BA1\u7B97\u673A\u4E0A, \u53D1\u9001\u8F93\u5165\u548C\u83B7\u53D6\u8F93\u51FA."}),"\n",(0,s.jsx)(n.li,{children:"\u7535\u4F20\u6253\u5B57\u673A (TTY) \u73B0\u5728\u88AB\u8FD0\u884C\u5728\u5185\u6838\u4E2D\u7684\u6A21\u5757\u6240\u6A21\u62DF,\n\u88AB\u79F0\u4E3A\u7EC8\u7AEF\u6A21\u62DF\u5668 (Terminal Emulator)."}),"\n",(0,s.jsx)(n.li,{children:"\u4F2A\u7EC8\u7AEF (Pseudo Terminal, PTY) \u662F\u8FD0\u884C\u5728\u7528\u6237\u533A\u7684\u7EC8\u7AEF\u6A21\u62DF\u7A0B\u5E8F."}),"\n",(0,s.jsx)(n.li,{children:"Shell \u7531 Terminal fork \u51FA\u6765, \u662F Terminal \u7684\u5B50\u8FDB\u7A0B.\nTerminal \u5904\u7406\u952E\u76D8\u4E8B\u4EF6, \u8D1F\u8D23\u5B57\u7B26\u7684\u663E\u793A.\nShell \u8D1F\u8D23\u89E3\u91CA\u6267\u884C\u7528\u6237\u8F93\u5165\u7684\u5B57\u7B26, \u8FD4\u56DE\u64CD\u4F5C\u7CFB\u7EDF\u5E95\u5C42\u54CD\u5E94."}),"\n",(0,s.jsxs)(n.li,{children:["\u53EF\u4EE5\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"stty"})," \u547D\u4EE4\u5BF9 TTY \u8BBE\u5907\u8FDB\u884C\u914D\u7F6E."]}),"\n",(0,s.jsxs)(n.li,{children:["\u8FDC\u7A0B\u7EC8\u7AEF ",(0,s.jsx)(n.code,{children:"ssh"})," \u4E5F\u662F\u4E00\u79CD\u4F2A\u7EC8\u7AEF PTY:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Local: PTY Master is Terminal, PTY Slave is ",(0,s.jsx)(n.code,{children:"bash"})," and ",(0,s.jsx)(n.code,{children:"ssh client"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Remote: PTY Master is ",(0,s.jsx)(n.code,{children:"ssh server"}),", PTY Slave is ",(0,s.jsx)(n.code,{children:"bash"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"tty",children:"TTY"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Ctrl"}),"+",(0,s.jsx)(n.code,{children:"Alt"}),"+",(0,s.jsx)(n.code,{children:"F1 ~ F6"})," \u5728 TTY1 ~ TTY6 \u95F4\u5207\u6362."]}),"\n",(0,s.jsx)(n.h2,{id:"tmux",children:"Tmux"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tmux ls\ntmux new -s sessionID\ntmux a -t sessionID # attach\ntmux show -g >> current.tmux.conf # export configuration\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tmux-hotkeys",children:"Tmux Hotkeys"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"?        # \u5FEB\u6377\u952E\u5E2E\u52A9\u5217\u8868\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tmux-session",children:"Tmux Session"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:":new<CR> # \u521B\u5EFA\u65B0\u7684 Session\uFF0C\u5176\u4E2D : \u662F\u8FDB\u5165 Tmux \u547D\u4EE4\u884C\u7684\u5FEB\u6377\u952E\ns list sessions\n$ rename the current session\nd detach from the current session\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tmux-window",children:"Tmux Window"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'c create a new window\n, rename the current window\nw list windows\n% split horizontally\n" split vertically\nn change to the next window\np change to the previous window\n0 to 9 select windows 0 through 9\n'})}),"\n",(0,s.jsx)(n.h3,{id:"tmux-pane",children:"Tmux Pane"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'% create a horizontal pane\n" create a vertical pane\n<space>  # \u5207\u6362 Pane \u5E03\u5C40\nh move to the left pane. *\nj move to the pane below *\nl move to the right pane *\nk move to the pane above *\nq show pane numbers\no toggle between panes\n} swap with next pane\n{ swap with previous pane\n! break the pane out of the window\nx kill the current pane\nt        # \u663E\u793A\u4E00\u4E2A\u65F6\u949F\n'})}),"\n",(0,s.jsx)(n.h3,{id:"tmux-scroll",children:"Tmux Scroll"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"C-a + ["})," to into scroll mode, ",(0,s.jsx)(n.code,{children:"q"})," to quit scroll mode"]}),"\n",(0,s.jsx)(n.li,{children:"copy mode can scroll too"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"set -g mouse on"})," for enabling mouse scrolling"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"tmux-configuration",children:"Tmux Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# C-b is not acceptable -- Vim uses it\nset-option -g prefix C-a\nbind-key C-a last-window\n\n# Start numbering at 1\nset -g base-index 1\n\n# Allows for faster key repetition\nset -s escape-time 0\n\n# Set status bar\nset -g status-bg black\nset -g status-fg white\nset -g status-left ""\nset -g status-right "#[fg=green]#H"\n\n# Enable scroll mouse\nset -g mouse on\n\n# Rather than constraining window size to the maximum size of any client\n# connected to the *session*, constrain window size to the maximum size of any\n# client connected to *that window*. Much more reasonable.\nsetw -g aggressive-resize on\n\n# Allows us to use C-a a <command> to send commands to a TMUX session inside\n# another TMUX session\nbind-key a send-prefix\n\n# Reload configuration\nbind r source-file ~/.tmux.conf \\; display-message "Config reloaded"\n\n# Escape to enter copy mode, v to selection, y to yank, p to paste\nbind Escape copy-mode\nbind-key -T copy-mode-vi \'v\' send -X begin-selection\nbind-key -T copy-mode-vi \'y\' send -X copy-selection-and-cancel\n# bind-key -t vi-copy v begin-selection\n# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"\nunbind p\nbind p pasteb\n\nsetw -g mode-keys vi      # Vi\n\n# Highlight active window\nset-window-option -g window-status-current-bg red\n'})}),"\n",(0,s.jsx)(n.h2,{id:"ghostty",children:"Ghostty"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Ctrl"}),"+",(0,s.jsx)(n.code,{children:"Shift"}),"+",(0,s.jsx)(n.code,{children:"p"}),": command palette."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Ctrl"}),"+",(0,s.jsx)(n.code,{children:"Shift"}),"+",(0,s.jsx)(n.code,{children:","}),": reload config."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'git clone --depth=1 https://github.com/sahaj-b/ghostty-cursor-shaders ~/.config/ghostty/shaders\nsed -i \'s/background-opacity = .*/background-opacity = 0.85/\' ~/.config/ghostty/config\nsed -i \'s/^keybind = ctrl+t=/# keybind = ctrl+t=/\' ~/.config/ghostty/config\necho \'font-family = "Maple Mono NF CN"\' >> ~/.config/ghostty/config\necho "custom-shader = shaders/cursor_warp.glsl" >> ~/.config/ghostty/config\necho "keybind = alt+h=goto_split:left" >> ~/.config/ghostty/config\necho "keybind = alt+j=goto_split:down" >> ~/.config/ghostty/config\necho "keybind = alt+k=goto_split:up" >> ~/.config/ghostty/config\necho "keybind = alt+l=goto_split:right" >> ~/.config/ghostty/config\n'})}),"\n",(0,s.jsx)(n.h2,{id:"windows",children:"Windows"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ~/.bashrc\n\n# Fix git bash flicker\nbind 'set bell-style none'\n"})})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},30416(e,n,i){i.d(n,{R:()=>l,x:()=>r});var t=i(59471);let s={},o=t.createContext(s);function l(e){let n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);