"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["12982"],{23559(e,n,i){i.r(n),i.d(n,{metadata:()=>t,default:()=>m,frontMatter:()=>c,contentTitle:()=>l,toc:()=>s,assets:()=>d});var t=JSON.parse('{"id":"programming/android/lifecycle","title":"Lifecycle","description":"Activity","source":"@site/content/programming/android/lifecycle.md","sourceDirName":"programming/android","slug":"/programming/android/lifecycle","permalink":"/notes/programming/android/lifecycle","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/android/lifecycle.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"Android","permalink":"/notes/tags/android"},{"inline":true,"label":"Lifecycle","permalink":"/notes/tags/lifecycle"},{"inline":true,"label":"Activity","permalink":"/notes/tags/activity"},{"inline":true,"label":"Fragment","permalink":"/notes/tags/fragment"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"tags":["Programming","Android","Lifecycle","Activity","Fragment"]},"sidebar":"tutorialSidebar","previous":{"title":"Toolchain","permalink":"/notes/programming/android/toolchain"},"next":{"title":"UI","permalink":"/notes/programming/android/ui"}}'),a=i(62615),r=i(30416);let c={sidebar_position:2,tags:["Programming","Android","Lifecycle","Activity","Fragment"]},l="Lifecycle",d={},s=[{value:"Activity",id:"activity",level:2},{value:"Base",id:"base",level:3},{value:"Collector",id:"collector",level:3},{value:"Start",id:"start",level:3},{value:"Fragment",id:"fragment",level:2},{value:"XML",id:"xml",level:3},{value:"Create",id:"create",level:3},{value:"Add",id:"add",level:3},{value:"Transfer Information",id:"transfer-information",level:2},{value:"In Activity",id:"in-activity",level:3},{value:"In Fragment",id:"in-fragment",level:3},{value:"Runtime Loop",id:"runtime-loop",level:2}];function o(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lifecycle",children:"Lifecycle"})}),"\n",(0,a.jsx)(n.h2,{id:"activity",children:"Activity"}),"\n",(0,a.jsx)(n.h3,{id:"base",children:"Base"}),"\n",(0,a.jsx)(n.p,{children:"\u67E5\u770B\u5F53\u524D\u754C\u9762\u5C5E\u4E8E\u54EA\u4E2A Activity\uFF0C\u81EA\u5B9A\u4E49 Activity \u7EE7\u627F BaseActivity"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class BaseActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.d("BaseActivity", getClass().getSimpleName());\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"collector",children:"Collector"}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u6240\u6709 Activity \u7684 onCreate \u65B9\u6CD5\u8C03\u7528\u9759\u6001\u7684 addActivity \u65B9\u6CD5\uFF0ConDestroy \u65B9\u6CD5\u8C03\u7528\u9759\u6001\u7684 removeActivity \u65B9\u6CD5\u3002"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"ActivityCollector.addActivity(this);"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"ActivityCollector.removeActivity(this);"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public class ActivityCollector {\n\n    public static List<Activity> activities = new ArrayList<Activity>();\n\n    public static void addActivity(Activity activity) {\n        activities.add(activity);\n\n    }\n\n    public static void removeActivity(Activity activity) {\n        activities.remove(activity);\n\n    }\n\n    public static void finishAll() {\n        for (Activity activity : activities) {\n            if (!activity.isFinishing()) {\n                activity.finish();\n            }\n        }\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"start",children:"Start"}),"\n",(0,a.jsx)(n.p,{children:"\u4E3A\u6BCF\u4E2A Activity \u6DFB\u52A0\u9759\u6001\u7684 actionStart \u65B9\u6CD5\uFF0C\u4F9B\u5176\u4ED6 Activity \u542F\u7528\u6B64 Activity"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public static void actionStart(Context context, String data1, String data2) {\n    Intent intent = new Intent(context, thisActivity.class);\n    intent.putExtra("param1", data1);\n    intent.putExtra("param2", data2);\n    context.startActivity(intent);\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"fragment",children:"Fragment"}),"\n",(0,a.jsx)(n.p,{children:"android.app.Fragment"}),"\n",(0,a.jsx)(n.h3,{id:"xml",children:"XML"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<fragment\n  android:id="@+id/right_fragment"\n  android:name="com.example.fragmentTest.RightFragment"\n  android:layout_width="0dp"\n  android:layout_height="match_parent"\n  android:layout_weight="1"\n></fragment>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@Override\npublic View onCreateView(\n  LayoutInflater inflater,\n  ViewGroup container,\n  Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.left_fragment, container, false);\n    return view;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"add",children:"Add"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"AnotherRightFragment fragment = new AnotherRightFragment();\nFragmentTransaction transaction = getFragmentManager.beginTransaction();\n\n//\u5BB9\u5668\u7684 id \u548C\u5F85\u6DFB\u52A0\u7684\u788E\u7247\u5B9E\u4F8B\ntransaction.replace(R.id.right_layout, fragment);\n//\u6A21\u62DF\u8FD4\u56DE\u6808\ntransaction.addToBackStack(null);\ntransaction.commit();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"transfer-information",children:"Transfer Information"}),"\n",(0,a.jsx)(n.h3,{id:"in-activity",children:"In Activity"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"getFragmentManager().findFragmentById(R.id.right_fragment);"})}),"\n",(0,a.jsx)(n.h3,{id:"in-fragment",children:"In Fragment"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"MainActivity activity = (MainActivity) getActivity();"})}),"\n",(0,a.jsx)(n.h2,{id:"runtime-loop",children:"Runtime Loop"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onAttach()"}),"\n\u5F53\u788E\u7247\u548C\u6D3B\u52A8\u5EFA\u7ACB\u5173\u8054\u7684\u65F6\u5019\u8C03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onCreateView()"}),"\n\u4E3A\u788E\u7247\u521B\u5EFA\u89C6\u56FE(\u52A0\u8F7D\u5E03\u5C40)\u65F6\u8C03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onActivityCreated()"}),"\n\u786E\u4FDD\u4E0E\u788E\u7247\u76F8\u5173\u8054\u7684\u6D3B\u52A8\u4E00\u5B9A\u5DF2\u7ECF\u521B\u5EFA\u5B8C\u6BD5\u7684\u65F6\u5019\u8C03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onDestroyView()"}),"\n\u5F53\u4E0E\u788E\u7247\u5173\u8054\u7684\u89C6\u56FE\u88AB\u79FB\u9664\u7684\u65F6\u5019\u8C03\u7528\u3002"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"onDetach()"}),"\n\u5F53\u788E\u7247\u548C\u6D3B\u52A8\u89E3\u9664\u5173\u8054\u7684\u65F6\u5019\u8C03\u7528\u3002"]}),"\n"]})]})}function m(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},30416(e,n,i){i.d(n,{R:()=>c,x:()=>l});var t=i(59471);let a={},r=t.createContext(a);function c(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);