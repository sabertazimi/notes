"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["87061"],{53459(e,n,l){l.r(n),l.d(n,{metadata:()=>s,default:()=>o,frontMatter:()=>d,contentTitle:()=>c,toc:()=>a,assets:()=>t});var s=JSON.parse('{"id":"programming/linux/core","title":"Core","description":"Command Priority","source":"@site/content/programming/linux/core.md","sourceDirName":"programming/linux","slug":"/programming/linux/core","permalink":"/notes/programming/linux/core","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/programming/linux/core.md","tags":[{"inline":true,"label":"Programming","permalink":"/notes/tags/programming"},{"inline":true,"label":"OS","permalink":"/notes/tags/os"},{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"Commands","permalink":"/notes/tags/commands"}],"version":"current","lastUpdatedBy":"sabertazimi","lastUpdatedAt":1772369950000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"tags":["Programming","OS","Linux","Commands"]},"sidebar":"tutorialSidebar","previous":{"title":"Linux","permalink":"/notes/programming/linux/"},"next":{"title":"Shell Scripts","permalink":"/notes/programming/linux/shell"}}'),i=l(62615),r=l(30416);let d={sidebar_position:1,tags:["Programming","OS","Linux","Commands"]},c="Core",t={},a=[{value:"Command Priority",id:"command-priority",level:2},{value:"Folder Structure",id:"folder-structure",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Ls",id:"ls",level:3},{value:"Cd",id:"cd",level:3},{value:"Pwd",id:"pwd",level:3},{value:"Rm",id:"rm",level:3},{value:"Cp",id:"cp",level:3},{value:"Mv",id:"mv",level:3},{value:"Ln",id:"ln",level:3},{value:"History",id:"history",level:2},{value:"Reverse",id:"reverse",level:3},{value:"Shortcuts",id:"shortcuts",level:3},{value:"Time",id:"time",level:2},{value:"Search",id:"search",level:2},{value:"Locate",id:"locate",level:3},{value:"Type",id:"type",level:3},{value:"Apropos",id:"apropos",level:3},{value:"Whereis",id:"whereis",level:3},{value:"Whatis",id:"whatis",level:3},{value:"Find",id:"find",level:3},{value:"Grep",id:"grep",level:3},{value:"Process",id:"process",level:2},{value:"Uptime",id:"uptime",level:3},{value:"Ps",id:"ps",level:3},{value:"Vmstat",id:"vmstat",level:3},{value:"Mpstat",id:"mpstat",level:3},{value:"Pidstat",id:"pidstat",level:3},{value:"Top",id:"top",level:3},{value:"Lscpu",id:"lscpu",level:3},{value:"Jobs",id:"jobs",level:3},{value:"Bg",id:"bg",level:3},{value:"Fg",id:"fg",level:3},{value:"Kill",id:"kill",level:3},{value:"Killall",id:"killall",level:3},{value:"Shutdown",id:"shutdown",level:3},{value:"Pstree",id:"pstree",level:3},{value:"Xload and Tload",id:"xload-and-tload",level:3},{value:"Screen",id:"screen",level:3},{value:"Memory",id:"memory",level:2},{value:"Iostat",id:"iostat",level:3},{value:"Iotop",id:"iotop",level:3},{value:"Free",id:"free",level:3},{value:"Documentation",id:"documentation",level:2},{value:"Man",id:"man",level:3},{value:"Help Shell",id:"help-shell",level:3},{value:"Info",id:"info",level:3},{value:"Neofetch",id:"neofetch",level:3},{value:"Log",id:"log",level:2},{value:"Dmesg",id:"dmesg",level:3},{value:"Journal",id:"journal",level:3},{value:"Coredump",id:"coredump",level:3},{value:"Boot",id:"boot",level:3},{value:"Performance",id:"performance",level:2},{value:"Perf",id:"perf",level:3},{value:"Stress",id:"stress",level:3},{value:"References",id:"references",level:2}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"core",children:"Core"})}),"\n",(0,i.jsx)(n.h2,{id:"command-priority",children:"Command Priority"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5305\u542B\u8DEF\u5F84\u547D\u4EE4 ",(0,i.jsx)(n.code,{children:"./vmtools.pl"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"\u522B\u540D\u547D\u4EE4."}),"\n",(0,i.jsx)(n.li,{children:"Bash \u5185\u90E8\u547D\u4EE4."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$PATH"})," \u5305\u542B\u76EE\u5F55\u5185\u7684\u547D\u4EE4 (",(0,i.jsx)(n.code,{children:"/bin"}),"/",(0,i.jsx)(n.code,{children:"/sbin"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"man hier\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u901A\u8FC7\u6E90\u7801\u5305\u5B89\u88C5\u7684\u8F6F\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7 ",(0,i.jsx)(n.code,{children:"./configure --prefix=/opt/"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/usr/src"}),": Kernel source code."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/usr/share/applications"}),": Desktop shortcuts."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/usr/share/fonts/truetype"}),": True Type Fonts (TTF)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/usr/share/fonts/opentype"}),": Open Type Fonts (OTF)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/etc/nginx"}),": Nginx."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsx)(n.h3,{id:"ls",children:"Ls"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-lh"}),": long human."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-ld"}),": long directory."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"-i inode --color==auto"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u6743\u9650 (user/group/other) \u5F15\u7528\u8BA1\u6570 user group \u6587\u4EF6\u5927\u5C0F \u6587\u4EF6\u4FEE\u6539\u65F6\u95F4 \u6587\u4EF6\u540D."}),"\n",(0,i.jsx)(n.h3,{id:"cd",children:"Cd"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-"}),": \u4E0A\u6B21\u76EE\u5F55."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".."}),": \u4E0A\u7EA7\u76EE\u5F55."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"pwd",children:"Pwd"}),"\n",(0,i.jsx)(n.p,{children:"print working directory"}),"\n",(0,i.jsx)(n.h3,{id:"rm",children:"Rm"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2013r delete directory"}),"\n",(0,i.jsx)(n.li,{children:"\u2013f delete forcedly"}),"\n",(0,i.jsx)(n.li,{children:"-i \u663E\u793A\u786E\u8BA4\u4FE1\u606F"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cp",children:"Cp"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-r copy directory"}),"\n",(0,i.jsx)(n.li,{children:"-p copy property"}),"\n",(0,i.jsx)(n.li,{children:"-d copy link"}),"\n",(0,i.jsx)(n.li,{children:"-a --all(-pdr)"}),"\n",(0,i.jsx)(n.li,{children:"-i \u663E\u793A\u786E\u8BA4\u4FE1\u606F"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"mv",children:"Mv"}),"\n",(0,i.jsx)(n.p,{children:"\u65E0\u9700\u53C2\u6570(\u6539\u540D+\u79FB\u52A8)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-i \u663E\u793A\u786E\u8BA4\u4FE1\u606F"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ln",children:"Ln"}),"\n",(0,i.jsxs)(n.p,{children:["link: create ",(0,i.jsx)(n.code,{children:".bak/.hard"})," (\u786C\u94FE\u63A5) and ",(0,i.jsx)(n.code,{children:".soft"})," (\u8F6F\u94FE\u63A5\uFF1A\u521B\u5EFA\u94FE\u63A5\u65F6\u586B\u5199\u7EDD\u5BF9\u8DEF\u5F84)."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A hard link always points a filename to data on a storage device."}),"\n",(0,i.jsx)(n.li,{children:"A soft link always points a filename to another filename,\nwhich then points to information on a storage device."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ln [\u6E90\u6587\u4EF6] [New Hard Link File]\nln -s [\u6E90\u6587\u4EF6] [New Soft Link File]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"history",children:"History"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-c \u6E05\u9664\u5386\u53F2\u547D\u4EE4"}),"\n",(0,i.jsx)(n.li,{children:"-w (~/.bash_history) \u4FDD\u5B58\u5386\u53F2\u547D\u4EE4"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"/etc/profile \u4E2D\u4FEE\u6539 HISTSIZE !n/!!/!\u5B57\u7B26\u4E32 \u91CD\u590D\u6267\u884C\u7B2C n \u6761/\u4E0A\u4E00\u6761/\u6307\u5B9A\u5F00\u5934\u7684\u5386\u53F2\u547D\u4EE4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# repeat history command\n!number\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reverse",children:"Reverse"}),"\n",(0,i.jsxs)(n.p,{children:["Press ",(0,i.jsx)(n.code,{children:"ctrl-r"})," \u63D0\u793A\u7B26\u6539\u53D8, \u663E\u793A\u6211\u4EEC\u6B63\u5728\u6267\u884C\u53CD\u5411\u589E\u91CF\u641C\u7D22.\n\u641C\u7D22\u8FC7\u7A0B\u662F",(0,i.jsx)(n.code,{children:"\u53CD\u5411\u7684"}),"\uFF0C\u56E0\u4E3A\u6211\u4EEC\u6309\u7167\u4ECE",(0,i.jsx)(n.code,{children:"\u73B0\u5728"}),"\u5230",(0,i.jsx)(n.code,{children:"\u8FC7\u53BB"}),"\u67D0\u4E2A\u65F6\u95F4\u6BB5\u7684\u987A\u5E8F\u6765\u641C\u5BFB.\n\u4E0B\u4E00\u6B65, \u6211\u4EEC\u5F00\u59CB\u8F93\u5165\u8981\u67E5\u627E\u7684\u6587\u672C\u641C\u7D22\u8FD4\u56DE\u6211\u4EEC\u9700\u8981\u7684\u7ED3\u679C.\n(",(0,i.jsx)(n.code,{children:"enter"})," to execute, ",(0,i.jsx)(n.code,{children:"ctrl-j"})," to copy)"]}),"\n",(0,i.jsx)(n.h3,{id:"shortcuts",children:"Shortcuts"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"command"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"function"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Ctrl-p"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u79FB\u52A8\u5230\u4E0A\u4E00\u4E2A\u5386\u53F2\u6761\u76EE"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Ctrl-n"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u79FB\u52A8\u5230\u4E0B\u4E00\u4E2A\u5386\u53F2\u6761\u76EE"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Alt-<"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u79FB\u52A8\u5230\u5386\u53F2\u5217\u8868\u5F00\u5934"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Alt->"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u79FB\u52A8\u5230\u5386\u53F2\u5217\u8868\u7ED3\u5C3E"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Ctrl-r"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u53CD\u5411\u589E\u91CF\u641C\u7D22"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Alt-p"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u53CD\u5411\u641C\u7D22\uFF0C\u975E\u589E\u91CF\u641C\u7D22"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Alt-n"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u5411\u524D\u641C\u7D22\uFF0C\u975E\u589E\u91CF"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"Ctrl-o"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"\u6267\u884C\u5386\u53F2\u5217\u8868\u4E2D\u7684\u5F53\u524D\u9879\uFF0C\u5E76\u79FB\u5230\u4E0B\u4E00\u4E2A"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"time",children:"Time"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"date\n"})}),"\n",(0,i.jsx)(n.p,{children:"Change ntp (Network Time Protocol) time:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install ntpdate\nsudo iptables -A OUTPUT -p udp --dport 123 -j ACCEPT\nsudo iptables -A INPUT -p udp --sport 123 -j ACCEPT\nsudo ntpdate time.windows.com\nsudo hwclock --localtime --systohc\n"})}),"\n",(0,i.jsx)(n.p,{children:"Use local time (not UTC time):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo timedatectl set-local-rtc 1\n"})}),"\n",(0,i.jsx)(n.p,{children:"NTP servers:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ntpd\nntpq -p\n"})}),"\n",(0,i.jsx)(n.h2,{id:"search",children:"Search"}),"\n",(0,i.jsx)(n.h3,{id:"locate",children:"Locate"}),"\n",(0,i.jsxs)(n.p,{children:["\u7ED3\u5408 ",(0,i.jsx)(n.code,{children:"updatedb"})," \u547D\u4EE4 (\u8BE5\u547D\u4EE4\u4E00\u822C\u81EA\u52A8 1 \u5929/\u6B21)."]}),"\n",(0,i.jsx)(n.h3,{id:"type",children:"Type"}),"\n",(0,i.jsx)(n.p,{children:"Indicate how a command name is interpreted."}),"\n",(0,i.jsx)(n.h3,{id:"apropos",children:"Apropos"}),"\n",(0,i.jsx)(n.p,{children:"Display a list of appropriate commands."}),"\n",(0,i.jsx)(n.h3,{id:"whereis",children:"Whereis"}),"\n",(0,i.jsx)(n.h3,{id:"whatis",children:"Whatis"}),"\n",(0,i.jsx)(n.h3,{id:"find",children:"Find"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:'find [\u641C\u7D22\u8DEF\u5F84] [\u53EF\u9009\u53C2\u6570] [\u6587\u4EF6\u540D](\u53EF\u52A0"")'}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-name"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-iname"}),": \u4E0D\u533A\u5206\u5927\u5C0F\u5199."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-user"}),": ",(0,i.jsx)(n.code,{children:"user_name"})," \u6309\u7167\u6240\u6709\u8005\u641C\u7D22."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-nouser"}),": \u641C\u7D22\u6CA1\u6709\u6240\u6709\u8005\u7684\u6587\u4EF6."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-atime"}),"(\u6587\u4EF6\u8BBF\u95EE\u65F6\u95F4)/",(0,i.jsx)(n.code,{children:"-ctime"}),"(\u6539\u53D8\u6587\u4EF6\u5C5E\u6027)/",(0,i.jsx)(n.code,{children:"-mtime"}),"(\u6539\u53D8\u6587\u4EF6\u5185\u5BB9):\n",(0,i.jsx)(n.code,{children:"-10"}),"(\u5341\u5929\u5185)/",(0,i.jsx)(n.code,{children:"10"}),"(\u5341\u5929\u5F53\u5929)/",(0,i.jsx)(n.code,{children:"+10"}),"(\u5341\u5929\u524D)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-size"}),": \u6587\u4EF6\u5927\u5C0F, ",(0,i.jsx)(n.code,{children:"-25k"}),"(\u5C0F\u4E8E 25k)/",(0,i.jsx)(n.code,{children:"25M"}),"(25M)/",(0,i.jsx)(n.code,{children:"+25G"}),"(\u5927\u4E8E 25G)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-inum"}),": ",(0,i.jsx)(n.code,{children:"inode_number"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-a"}),"/",(0,i.jsx)(n.code,{children:"-o"}),": \u903B\u8F91\u4E0E/\u903B\u8F91\u6216 (\u5DE6\u53F3\u4E24\u7AEF\u641C\u7D22\u6761\u4EF6)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-exec system_command_list {} ;"}),": \u5BF9\u641C\u7D22\u7ED3\u679C\u6267\u884C\u64CD\u4F5C."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-ok system_command_list {} ;"}),": \u5BF9\u641C\u7D22\u7ED3\u679C\u6267\u884C\u64CD\u4F5C."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'find . -name "*.bak" -type f\nfind . -name "*.bak" -type f -delete\n'})}),"\n",(0,i.jsx)(n.h3,{id:"grep",children:"Grep"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"grep"})," ",(0,i.jsx)(n.code,{children:"[\u53EF\u9009\u53C2\u6570] '\u5B57\u7B26\u4E32' \u6587\u4EF6\u540D"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-I"}),": \u4E0D\u533A\u5206\u5927\u5C0F\u5199"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-v"}),": \u6392\u9664\u6307\u5B9A\u5B57\u7B26\u4E32"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-r"}),": recursive on directory"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-l"}),": only print matched filename"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"--exclude"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Find ",(0,i.jsx)(n.code,{children:"FunctionalComponent"})," in files and open them all:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"grep -lr FunctionalComponent src --exclude=*.md | xargs code\n"})}),"\n",(0,i.jsx)(n.h2,{id:"process",children:"Process"}),"\n",(0,i.jsx)(n.h3,{id:"uptime",children:"Uptime"}),"\n",(0,i.jsx)(n.p,{children:"Average load information:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"uptime\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ps",children:"Ps"}),"\n",(0,i.jsx)(n.p,{children:"Report a snapshot of current processes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ps aux\nps aux --sort=-%mem\n\nps -u <username> | grep -v PID | sort -k4 -n -r | head -n 10\nps -u <username> | grep -v PID | awk '{print $1}' | xargs kill -9\n"})}),"\n",(0,i.jsx)(n.h3,{id:"vmstat",children:"Vmstat"}),"\n",(0,i.jsx)(n.p,{children:"Outputs a snapshot of system resource usage:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CPU usage"}),"\n",(0,i.jsx)(n.li,{children:"Context switch times"}),"\n",(0,i.jsx)(n.li,{children:"Interrupt times (/proc/interrupts)"}),"\n",(0,i.jsx)(n.li,{children:"Running and exclusive process status"}),"\n",(0,i.jsx)(n.li,{children:"Memory usage"}),"\n",(0,i.jsx)(n.li,{children:"Swap space"}),"\n",(0,i.jsx)(n.li,{children:"Disk I/O usage"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vmstat 1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mpstat",children:"Mpstat"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CPU usage"}),"\n",(0,i.jsx)(n.li,{children:"Software interrupt times (/proc/interrupts)"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mpstat -P ALL 1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pidstat",children:"Pidstat"}),"\n",(0,i.jsx)(n.p,{children:"Process and Thread:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CPU usage"}),"\n",(0,i.jsx)(n.li,{children:"Context switch times"}),"\n",(0,i.jsx)(n.li,{children:"Interrupt times (/proc/interrupts)"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pidstat 1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"top",children:"Top"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"top"}),"/",(0,i.jsx)(n.code,{children:"htop"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Display tasks"}),"\n",(0,i.jsx)(n.li,{children:"Average load"}),"\n",(0,i.jsx)(n.li,{children:"Process status"}),"\n",(0,i.jsx)(n.li,{children:"CPU usage"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"atop"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Memory usage"}),"\n",(0,i.jsx)(n.li,{children:"Disk I/O usage"}),"\n",(0,i.jsx)(n.li,{children:"Network usage"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"lscpu",children:"Lscpu"}),"\n",(0,i.jsxs)(n.p,{children:["Show ",(0,i.jsx)(n.code,{children:"/proc/cpuinfo"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"jobs",children:"Jobs"}),"\n",(0,i.jsx)(n.p,{children:"List active jobs."}),"\n",(0,i.jsx)(n.h3,{id:"bg",children:"Bg"}),"\n",(0,i.jsx)(n.p,{children:"Place a job in the background."}),"\n",(0,i.jsx)(n.h3,{id:"fg",children:"Fg"}),"\n",(0,i.jsx)(n.p,{children:"Place a job in the foreground."}),"\n",(0,i.jsx)(n.h3,{id:"kill",children:"Kill"}),"\n",(0,i.jsx)(n.p,{children:"Send a signal to a process."}),"\n",(0,i.jsx)(n.h3,{id:"killall",children:"Killall"}),"\n",(0,i.jsx)(n.p,{children:"Kill processes by name."}),"\n",(0,i.jsx)(n.h3,{id:"shutdown",children:"Shutdown"}),"\n",(0,i.jsx)(n.p,{children:"Shutdown or reboot the system."}),"\n",(0,i.jsx)(n.h3,{id:"pstree",children:"Pstree"}),"\n",(0,i.jsx)(n.p,{children:"Outputs a process list arranged in a tree-like pattern."}),"\n",(0,i.jsx)(n.h3,{id:"xload-and-tload",children:"Xload and Tload"}),"\n",(0,i.jsx)(n.p,{children:"Draws a graph showing system load over time."}),"\n",(0,i.jsx)(n.h3,{id:"screen",children:"Screen"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"screen -S screenName\nscreen -ls\nscreen -r\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Ctrl+d"}),": detach window"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Ctrl+k"}),": kill window"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"memory",children:"Memory"}),"\n",(0,i.jsx)(n.h3,{id:"iostat",children:"Iostat"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"iostat -xz 1\niostat -xmhy 1 4\n"})}),"\n",(0,i.jsx)(n.h3,{id:"iotop",children:"Iotop"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"iotop -o\n"})}),"\n",(0,i.jsx)(n.h3,{id:"free",children:"Free"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"free -m\n"})}),"\n",(0,i.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,i.jsx)(n.h3,{id:"man",children:"Man"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-f \u663E\u793A\u64CD\u4F5C\u7B49\u7EA7"}),"\n",(0,i.jsx)(n.li,{children:"-k \u5305\u542B\u5339\u914D"}),"\n",(0,i.jsx)(n.li,{children:"-1/2/.../9 \u663E\u793A\u547D\u4EE4\u4E0D\u540C\u64CD\u4F5C\u7B49\u7EA7\u7684\u5E2E\u52A9"}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Commands (Programs)\nThose commands that can be executed by the user from within a shell."}),"\n",(0,i.jsx)(n.li,{children:"System calls\nThose functions which must be performed by the kernel."}),"\n",(0,i.jsx)(n.li,{children:"Library calls\nMost of the libc functions."}),"\n",(0,i.jsx)(n.li,{children:"Special files (devices)\nFiles found in /dev."}),"\n",(0,i.jsx)(n.li,{children:"File formats and conventions\nThe format for /etc/passwd and other human-readable files."}),"\n",(0,i.jsx)(n.li,{children:"Games"}),"\n",(0,i.jsx)(n.li,{children:"Conventions and miscellaneous\nOverviews of various topics, conventions and protocols,\ncharacter set standards, and miscellaneous other things."}),"\n",(0,i.jsx)(n.li,{children:"System management commands\nCommands like mount(8), many of which only root can execute."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"help-shell",children:"Help Shell"}),"\n",(0,i.jsxs)(n.p,{children:["\u663E\u793A shell \u5185\u90E8\u547D\u4EE4\u5E2E\u52A9\uFF0C\u5982 ",(0,i.jsx)(n.code,{children:"cd"})," \u547D\u4EE4 (shell \u5185\u90E8\u547D\u4EE4)"]}),"\n",(0,i.jsx)(n.h3,{id:"info",children:"Info"}),"\n",(0,i.jsx)(n.p,{children:"\u663E\u793A\u5927\u578B\u5E2E\u52A9\u6587\u6863 - enter \u8FDB\u5165 u \u8FD4\u56DE p \u4E0A\u4E00\u8282 n \u4E0B\u4E00\u8282 q \u9000\u51FA"}),"\n",(0,i.jsx)(n.h3,{id:"neofetch",children:"Neofetch"}),"\n",(0,i.jsx)(n.p,{children:"Get system information:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo add-apt-repository ppa:dawidd0811/neofetch\nsudo apt-get update\nsudo apt-get install neofetch\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install screenfetch\n"})}),"\n",(0,i.jsx)(n.h2,{id:"log",children:"Log"}),"\n",(0,i.jsx)(n.h3,{id:"dmesg",children:"Dmesg"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dmesg -T | tail\n"})}),"\n",(0,i.jsx)(n.h3,{id:"journal",children:"Journal"}),"\n",(0,i.jsx)(n.p,{children:"Options:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Reverse\njournalctl -r\n# Unit\njournalctl -u <service-name>\n# Level\njournalctl -p 3\n# entries\njournalctl -n 50\n# User\njournalctl -xe --user -u <service-name>\n# Boot\njournalctl -b\njournalctl -b -1\njournalctl --list-boots\n\n"})}),"\n",(0,i.jsx)(n.p,{children:"Recipes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Error\njournalctl -p 3 -xb\njournalctl -p 3 -x -b -1\n# Last 50 logs from last boot\njournalctl -n 50 -b -1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"coredump",children:"Coredump"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"coredumpctl list\ncoredumpctl info <PID>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"boot",children:"Boot"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"last -x shutdown reboot\n"})}),"\n",(0,i.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Linux Performance Toolchain",src:l(52942).A+"",title:"Linux Performance Toolchain",width:"1547",height:"1600"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#uptime",children:"Uptime"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#dmesg",children:"Dmesg"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#vmstat",children:"Vmstat"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#mpstat",children:"Mpstat"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#pidstat",children:"Pidstat"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#iostat",children:"Iostat"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#free",children:"Free"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/notes/programming/linux/network#sar",children:"Sar"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#top",children:"Top"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#iotop",children:"Iotop"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55",children:"Linux performance analysis in 60,000 milliseconds"}),"\n(Netflix):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Load average\nuptime\n\n# Kernel errors\ndmesg -T | tail\n\n# Overall stats by time\nvmstat 1\n\n# CPU balance\nmpstat -P ALL 1\n\n# Process usage\npidstat 1\n\n# Disk I/O\niostat -xz 1\n\n# Memory usage\nfree -m\n\n# Network I/O\nsar -n DEV 1\n\n# TCP stats\nsar -n TCP,ETCP 1\n\n# Check overview\ntop\n"})}),"\n",(0,i.jsx)(n.h3,{id:"perf",children:"Perf"}),"\n",(0,i.jsxs)(n.p,{children:["Perf ",(0,i.jsx)(n.a,{href:"http://www.brendangregg.com/perf.html",children:"cookbook"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"perf list # events\nperf stat <command>\nperf stat -e <events> <command>\nperf record -e <events> -a <command>\nperf report\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"perf record -F 99 -a -g -- sleep 10\n\nperf report -n --stdio\nperf report -n -g 'flamegraph'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"stress",children:"Stress"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S s-tui\n"})}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Linux ",(0,i.jsx)(n.a,{href:"https://github.com/trimstray/the-book-of-secret-knowledge",children:"cheatsheets"}),"."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://dashdash.io",children:"DashDash: Beautiful Linux Manual Pages"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/tldr-pages/tldr",children:"TLDR"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://wiki.archlinux.org",children:"ArchWiki"})}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},52942(e,n,l){l.d(n,{A:()=>s});let s=l.p+"assets/images/linux-performance-toolchain-6a2cdc270238fde38363aaec2e0e7df0.png"},30416(e,n,l){l.d(n,{R:()=>d,x:()=>c});var s=l(59471);let i={},r=s.createContext(i);function d(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);