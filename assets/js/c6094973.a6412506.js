"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["65739"],{28415(e,n,s){s.r(n),s.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>o,contentTitle:()=>l,toc:()=>a,assets:()=>c});var i=JSON.parse('{"id":"ai/gen/agent/instructions","title":"Instructions","description":"- Use existing documents:","source":"@site/content/ai/gen/agent/instructions.md","sourceDirName":"ai/gen/agent","slug":"/ai/gen/agent/instructions","permalink":"/notes/ai/gen/agent/instructions","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/ai/gen/agent/instructions.md","tags":[{"inline":true,"label":"AI","permalink":"/notes/tags/ai"},{"inline":true,"label":"Generative AI","permalink":"/notes/tags/generative-ai"},{"inline":true,"label":"LLM","permalink":"/notes/tags/llm"},{"inline":true,"label":"Agent","permalink":"/notes/tags/agent"},{"inline":true,"label":"Prompt","permalink":"/notes/tags/prompt"}],"version":"current","lastUpdatedBy":"sabertazimi","lastUpdatedAt":1770521227000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"tags":["AI","Generative AI","LLM","Agent","Prompt"]},"sidebar":"tutorialSidebar","previous":{"title":"Patterns","permalink":"/notes/ai/gen/agent/patterns"},"next":{"title":"Tool","permalink":"/notes/ai/gen/agent/tool"}}'),t=s(62615),r=s(30416);let o={sidebar_position:3,tags:["AI","Generative AI","LLM","Agent","Prompt"]},l="Instructions",c={},a=[{value:"Vibe Coding",id:"vibe-coding",level:2},{value:"System",id:"system",level:2},{value:"Coding",id:"coding",level:2},{value:"Pull Request",id:"pull-request",level:2},{value:"Testing",id:"testing",level:2},{value:"Research",id:"research",level:2},{value:"References",id:"references",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"instructions",children:"Instructions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use existing documents:\n\u4F7F\u7528\u73B0\u6709\u7684\u64CD\u4F5C\u7A0B\u5E8F\u3001\u652F\u6301\u811A\u672C\u6216\u653F\u7B56\u6587\u6863\u6765\u521B\u5EFA LLM \u53CB\u597D\u7684 routines."}),"\n",(0,t.jsx)(n.li,{children:"Prompt agents to break down tasks:\n\u63D0\u4F9B\u66F4\u5C0F\u3001\u66F4\u6E05\u6670\u7684\u6B65\u9AA4\u6709\u52A9\u4E8E\u6700\u5927\u9650\u5EA6\u5730\u51CF\u5C11\u6B67\u4E49, \u5E76\u5E2E\u52A9\u6A21\u578B\u66F4\u597D\u5730\u9075\u5FAA\u6307\u4EE4."}),"\n",(0,t.jsx)(n.li,{children:"Define clear actions:\n\u786E\u4FDD routine \u4E2D\u7684\u6BCF\u4E00\u6B65\u90FD\u5BF9\u5E94\u4E00\u4E2A\u7279\u5B9A\u7684\u884C\u52A8\u6216\u8F93\u51FA."}),"\n",(0,t.jsx)(n.li,{children:"Capture edge cases:\n\u5B9E\u9645\u4EA4\u4E92\u901A\u5E38\u4F1A\u4EA7\u751F\u51B3\u7B56\u70B9, \u4E00\u4E2A\u5065\u58EE\u7684 routine \u4F1A\u9884\u6D4B\u5E38\u89C1\u7684\u53D8\u5316,\n\u5E76\u5305\u542B\u5173\u4E8E\u5982\u4F55\u901A\u8FC7\u6761\u4EF6\u6B65\u9AA4\u6216\u5206\u652F\u6765\u5904\u7406\u5B83\u4EEC\u7684\u6307\u4EE4, e.g. \u5728\u7F3A\u5C11\u6240\u9700\u4FE1\u606F\u65F6\u63D0\u4F9B\u66FF\u4EE3\u6B65\u9AA4."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-md",children:"\u60A8\u662F LLM \u667A\u80FD\u4F53\u6307\u4EE4\u7F16\u5199\u4E13\u5BB6.\n\u8BF7\u5C06\u4EE5\u4E0B\u5E2E\u52A9\u4E2D\u5FC3\u6587\u6863\u8F6C\u6362\u4E3A\u4E00\u7EC4\u6E05\u6670\u7684\u6307\u4EE4, \u4EE5\u7F16\u53F7\u5217\u8868\u5F62\u5F0F\u7F16\u5199.\n\u8BE5\u6587\u6863\u5C06\u6210\u4E3A LLM \u9075\u5FAA\u7684\u653F\u7B56. \u786E\u4FDD\u6CA1\u6709\u6B67\u4E49, \u5E76\u4E14\u6307\u4EE4\u662F\u4EE5\u667A\u80FD\u4F53\u7684\u6307\u793A\u5F62\u5F0F\u7F16\u5199\u7684.\n\u8981\u8F6C\u6362\u7684\u5E2E\u52A9\u4E2D\u5FC3\u6587\u6863\u5982\u4E0B {{help_center_doc}}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["How to write a great ",(0,t.jsx)(n.code,{children:"AGENTS.md"})," ",(0,t.jsx)(n.a,{href:"https://github.blog/ai-and-ml/github-copilot/how-to-write-a-great-agents-md-lessons-from-over-2500-repositories",children:"lessons from over 2500 repositories"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["States a clear ",(0,t.jsx)(n.strong,{children:"role"}),":\nDefines who the agent is (expert technical writer),\nwhat skills it has (Markdown, TypeScript),\nand what it does (read code, write docs)."]}),"\n",(0,t.jsxs)(n.li,{children:["Executable ",(0,t.jsx)(n.strong,{children:"commands"}),": Gives AI tools it can run. Commands come first."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Project"})," knowledge: Specifies tech stack with versions (React 18, TypeScript, Vite, Tailwind CSS) and exact file locations."]}),"\n",(0,t.jsxs)(n.li,{children:["Real ",(0,t.jsx)(n.strong,{children:"examples"}),": Shows what good output looks like with actual code. No abstract descriptions."]}),"\n",(0,t.jsxs)(n.li,{children:["Three-tier ",(0,t.jsx)(n.strong,{children:"boundaries"}),": Set clear rules using always do, ask first, never do. Prevents destructive mistakes."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Role -> Tool -> Context -> Example -> Boundary"})}),"\n",(0,t.jsx)(n.h2,{id:"vibe-coding",children:"Vibe Coding"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Spec the work:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u76EE\u6807: picking next highest-leverage goal"}),"\n",(0,t.jsx)(n.li,{children:"\u5206\u89E3: breaking the work into small and verifiable slice (pull request)"}),"\n",(0,t.jsx)(n.li,{children:"\u6807\u51C6: writing acceptance criteria, e.g. inputs, outputs, edge cases, UX constraints"}),"\n",(0,t.jsx)(n.li,{children:"\u98CE\u9669: calling out risks up front, e.g. performance hot-spots, security boundaries, migration concerns"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Give agents context:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4ED3\u5E93: Repository conventions"}),"\n",(0,t.jsx)(n.li,{children:"\u7EC4\u4EF6: Component system, design tokens and patterns"}),"\n",(0,t.jsx)(n.li,{children:"\u7EA6\u675F: Defining constraints: what not to touch, what must stay backward compatible"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Direct agents ",(0,t.jsx)(n.code,{children:"what"}),", not ",(0,t.jsx)(n.code,{children:"how"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5DE5\u5177: Assigning right tools"}),"\n",(0,t.jsx)(n.li,{children:"\u6587\u4EF6: Pointing relevant files and components"}),"\n",(0,t.jsxs)(n.li,{children:["\u7EA6\u675F: Stating explicit guardrails, e.g. ",(0,t.jsx)(n.code,{children:"don't change API shape"}),", ",(0,t.jsx)(n.code,{children:"keep this behavior"}),", ",(0,t.jsx)(n.code,{children:"no new deps"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Verification and code review:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6B63\u786E\u6027 (correctness): edge cases, race conditions, error handling"}),"\n",(0,t.jsxs)(n.li,{children:["\u6027\u80FD (performance): ",(0,t.jsx)(n.code,{children:"N+1"})," queries, unnecessary re-renders, over-fetching"]}),"\n",(0,t.jsx)(n.li,{children:"\u5B89\u5168\u6027 (security): auth boundaries, injection, secrets, SSRF"}),"\n",(0,t.jsx)(n.li,{children:"\u6D4B\u8BD5 (tests): coverage for changed behaviors"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Integrate and ship:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Break big work into tasks agents can complete reliably"}),"\n",(0,t.jsx)(n.li,{children:"Merge conflicts"}),"\n",(0,t.jsx)(n.li,{children:"Verify CI"}),"\n",(0,t.jsx)(n.li,{children:"Stage roll-outs"}),"\n",(0,t.jsx)(n.li,{children:"Monitor regressions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Spec \u2192 Onboard \u2192 Direct \u2192 Verify \u2192 Integrate"})}),"\n",(0,t.jsx)(n.h2,{id:"system",children:"System"}),"\n",(0,t.jsxs)(n.p,{children:["OpenAI ",(0,t.jsx)(n.a,{href:"https://openai.com/index/introducing-codex",children:"Codex"}),"\nsystem ",(0,t.jsx)(n.a,{href:"/notes/ai/gen/recipes/prompts/codex",children:"prompts"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Instructions."}),"\n",(0,t.jsx)(n.li,{children:"Git instructions."}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"AGENTS.md"})," spec."]}),"\n",(0,t.jsx)(n.li,{children:"Citations instructions."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://openai.com/index/unrolling-the-codex-agent-loop",children:(0,t.jsx)(n.img,{alt:"Codex Agent Loop",src:s(5223).A+"",width:"802",height:"480"})})}),"\n",(0,t.jsx)(n.h2,{id:"coding",children:"Coding"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/agentsmd/agents.md",children:"Writing"}),"\ngood ",(0,t.jsx)(n.a,{href:"https://github.com/agentsmd/agents.md",children:(0,t.jsx)(n.code,{children:"AGENTS.md"})}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"AGENTS.md"})," should define your project's ",(0,t.jsx)(n.strong,{children:"WHY"}),", ",(0,t.jsx)(n.strong,{children:"WHAT"}),", and ",(0,t.jsx)(n.strong,{children:"HOW"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Less is more"}),".\nInclude as few instructions as reasonably possible in the file."]}),"\n",(0,t.jsxs)(n.li,{children:["Keep the contents of your ",(0,t.jsx)(n.code,{children:"AGENTS.md"})," ",(0,t.jsx)(n.strong,{children:"concise and universally applicable"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"Progressive Disclosure"}),".\nDon't tell Agent all the information to know, tell Agent when to needs, how to find and use it."]}),"\n",(0,t.jsxs)(n.li,{children:["Agent is not a linter.\nUse linters and code formatters,\nand use other features like ",(0,t.jsx)(n.a,{href:"https://code.claude.com/docs/en/hooks",children:"Hooks"})," and ",(0,t.jsx)(n.a,{href:"https://code.claude.com/docs/en/slash-commands",children:"Slash Commands"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"AGENTS.md"})," is the highest leverage point of the harness, so avoid auto-generating it.\nYou should carefully craft its contents for best results."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"pull-request",children:"Pull Request"}),"\n",(0,t.jsxs)(n.p,{children:["GitHub ",(0,t.jsx)(n.a,{href:"https://github.blog/ai-and-ml/github-copilot/how-to-use-github-copilot-spaces-to-debug-issues-faster",children:"copilot"}),"\nto debug issues faster:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-md",children:"You are an experienced engineer working on this codebase.\nAlways ground your answers in the linked docs and sources in this space.\nBefore writing code, produce a 3\u20135 step plan that includes:\n\n- The goal\n- The approach\n- The execution steps\n\nCite the exact files that justify your recommendations.\nAfter I approve a plan, use the Copilot coding agent to propose a PR.\n"})}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-md",children:"Create a test agent for this repository. It should:\n\n- Have the persona of a QA software engineer.\n- Write tests for this codebase\n- Run tests and analyzes results\n- Write to \u201C/tests/\u201D directory only\n- Never modify source code or remove failing tests\n- Include specific examples of good test structure\n"})}),"\n",(0,t.jsx)(n.h2,{id:"research",children:"Research"}),"\n",(0,t.jsx)(n.p,{children:"AI agents powered by tricky LLMs prompting:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Deep research agent from ",(0,t.jsx)(n.a,{href:"https://github.com/anthropics/claude-cookbooks/tree/main/patterns/agents",children:"claude agents cookbook"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/HKUDS/DeepCode",children:"DeepCode"}),":\nAgentic coding."]}),"\n",(0,t.jsxs)(n.li,{children:["Generative ",(0,t.jsx)(n.a,{href:"https://github.com/joonspk-research/generative_agents",children:"agent"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Minecraft ",(0,t.jsx)(n.a,{href:"https://github.com/MineDojo/Voyager",children:"agent"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Claude ",(0,t.jsx)(n.a,{href:"https://platform.claude.com/docs/en/release-notes/system-prompts",children:"system prompts"}),".\nClaude code ",(0,t.jsx)(n.a,{href:"https://github.com/Piebald-AI/claude-code-system-prompts",children:"system prompts"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Agent ",(0,t.jsx)(n.a,{href:"https://github.com/x1xhlol/system-prompts-and-models-of-ai-tools",children:"system prompts"}),"."]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},5223(e,n,s){s.d(n,{A:()=>i});let i=s.p+"assets/images/codex-agent-loop-5b3d1bf50fd3ebb8cf0007b7bb8f768a.svg"},30416(e,n,s){s.d(n,{R:()=>o,x:()=>l});var i=s(59471);let t={},r=i.createContext(t);function o(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);