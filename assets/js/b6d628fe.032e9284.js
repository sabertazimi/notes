"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([["79545"],{32964(n,e,l){l.r(e),l.d(e,{metadata:()=>s,default:()=>u,frontMatter:()=>t,contentTitle:()=>a,toc:()=>c,assets:()=>i});var s=JSON.parse('{"id":"web/javascript/destructuring","title":"Destructuring","description":"- \u5EFA\u8BAE\u53EA\u8981\u6709\u53EF\u80FD, \u5C31\u4E0D\u8981\u5728\u6A21\u5F0F\u4E2D\u653E\u7F6E\u5706\u62EC\u53F7.","source":"@site/content/web/javascript/destructuring.md","sourceDirName":"web/javascript","slug":"/web/javascript/destructuring","permalink":"/notes/web/javascript/destructuring","draft":false,"unlisted":false,"editUrl":"https://github.com/sabertazimi/notes/edit/main/content/web/javascript/destructuring.md","tags":[{"inline":true,"label":"Web","permalink":"/notes/tags/web"},{"inline":true,"label":"JavaScript","permalink":"/notes/tags/java-script"},{"inline":true,"label":"ECMAScript","permalink":"/notes/tags/ecma-script"}],"version":"current","lastUpdatedBy":"Sabertaz","lastUpdatedAt":1769518084000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"tags":["Web","JavaScript","ECMAScript"]},"sidebar":"tutorialSidebar","previous":{"title":"Operators","permalink":"/notes/web/javascript/operator"},"next":{"title":"Control Flow","permalink":"/notes/web/javascript/control-flow"}}'),r=l(62615),o=l(30416);let t={sidebar_position:11,tags:["Web","JavaScript","ECMAScript"]},a="Destructuring",i={},c=[{value:"Default Value",id:"default-value",level:2},{value:"Object",id:"object",level:2},{value:"JSON",id:"json",level:3},{value:"Import",id:"import",level:3},{value:"Number and Boolean",id:"number-and-boolean",level:3},{value:"Iterator",id:"iterator",level:2},{value:"Map and List",id:"map-and-list",level:3},{value:"String",id:"string",level:3},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2}];function d(n){let e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"destructuring",children:"Destructuring"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5EFA\u8BAE\u53EA\u8981\u6709\u53EF\u80FD, \u5C31\u4E0D\u8981\u5728\u6A21\u5F0F\u4E2D\u653E\u7F6E\u5706\u62EC\u53F7"}),"."]}),"\n",(0,r.jsx)(e.li,{children:"\u8D4B\u503C\u8BED\u53E5\u7684\u975E\u6A21\u5F0F\u90E8\u5206, \u53EF\u4EE5\u4F7F\u7528\u5706\u62EC\u53F7."}),"\n",(0,r.jsxs)(e.li,{children:["Every time access value via ",(0,r.jsx)(e.code,{children:"."}),":\nstop and think whether use destructuring instead."]}),"\n",(0,r.jsx)(e.li,{children:"Destructure as early as possible."}),"\n",(0,r.jsx)(e.li,{children:"Remember to include default values, especially in nested destructuring."}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"default-value",children:"Default Value"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"ES6 \u5185\u90E8\u4F7F\u7528\u4E25\u683C\u76F8\u7B49\u8FD0\u7B97\u7B26 (===), \u5224\u65AD\u4E00\u4E2A\u4F4D\u7F6E\u662F\u5426\u6709\u503C. \u82E5\u6B64\u4F4D\u7F6E\u65E0\u503C, \u5219\u4F7F\u7528\u9ED8\u8BA4\u503C."}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679C\u4E00\u4E2A\u6570\u7EC4\u6210\u5458\u4E0D\u4E25\u683C\u7B49\u4E8E undefined, \u9ED8\u8BA4\u503C\u4E0D\u4F1A\u751F\u6548."}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const [x = 1] = [undefined]\nconsole.log(x) // 1\n\nconst [x = 1] = [null]\nconsole.log(x) // null\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"let [x = 1, y = x] = [] // x=1; y=1\nlet [x = 1, y = x] = [2] // x=2; y=2\nlet [x = 1, y = x] = [1, 2] // x=1; y=2\nlet [x = y, y = 1] = [] // ReferenceError\n"})}),"\n",(0,r.jsx)(e.h2,{id:"object",children:"Object"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u89E3\u6784\u8D4B\u503C\u7684\u89C4\u5219: \u53EA\u8981\u7B49\u53F7\u53F3\u8FB9\u7684\u503C\u4E0D\u662F\u5BF9\u8C61, \u5C31\u5148\u5C06\u5176",(0,r.jsx)(e.strong,{children:"\u8F6C\u4E3A\u5BF9\u8C61"}),"."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"undefined"}),"/",(0,r.jsx)(e.code,{children:"null"})," \u65E0\u6CD5\u8F6C\u5316\u4E3A\u5BF9\u8C61:"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const { prop: x } = undefined // TypeError\nconst { prop: y } = null // TypeError\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const { bar, foo } = { foo: 'aaa', bar: 'bbb' }\nconsole.log(foo) // \"aaa\"\nconsole.log(bar) // \"bbb\"\n\nconst { baz } = { foo: 'aaa', bar: 'bbb' }\nconsole.log(baz) // undefined\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u771F\u6B63\u88AB\u8D4B\u503C\u7684\u662F\u540E\u8005, \u800C\u4E0D\u662F\u524D\u8005:"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const { foo: baz } = { foo: 'aaa', bar: 'bbb' }\nconsole.log(baz) // \"aaa\"\n\nconst { first: f, last: l } = { first: 'hello', last: 'world' }\nconsole.log(f) // 'hello'\nconsole.log(l) // 'world'\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Left-hand side of a normal assignment:"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const obj = {}\n;[first, ...obj.prop] = ['a', 'b', 'c']\n// first = 'a'; obj.prop = ['b', 'c']\n\nconst arr = []\n;({ bar: arr[0] } = { bar: true })\nconsole.log(arr) // [true]\n"})}),"\n",(0,r.jsx)(e.h3,{id:"json",children:"JSON"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const jsonData = {\n  id: 42,\n  status: 'OK',\n  data: [867, 5309],\n}\n\nconst { id, status, data: number } = jsonData\n\nconsole.log(id, status, number)\n// 42, \"OK\", [867, 5309]\n"})}),"\n",(0,r.jsx)(e.h3,{id:"import",children:"Import"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const { SourceMapConsumer, SourceNode } = require('source-map')\n"})}),"\n",(0,r.jsx)(e.h3,{id:"number-and-boolean",children:"Number and Boolean"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"number"}),"/",(0,r.jsx)(e.code,{children:"boolean"})," \u4F1A\u81EA\u52A8\u6784\u9020\u539F\u59CB\u503C\u5305\u88C5\u5BF9\u8C61:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"let { toString: s } = 123\nconst truthy = s === Number.prototype.toString // true\n\nlet { toString: s } = true\nconst truthy = s === Boolean.prototype.toString // true\n"})}),"\n",(0,r.jsx)(e.h2,{id:"iterator",children:"Iterator"}),"\n",(0,r.jsx)(e.p,{children:"\u7B49\u53F7\u53F3\u8FB9\u5FC5\u987B\u4E3A\u6570\u7EC4\u7B49\u5B9E\u73B0\u4E86 Iterator \u63A5\u53E3\u7684\u5BF9\u8C61, \u5426\u5219\u62A5\u9519:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Array."}),"\n",(0,r.jsx)(e.li,{children:"Set."}),"\n",(0,r.jsx)(e.li,{children:"Generator function."}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const [foo, [[bar], baz]] = [1, [[2], 3]]\nconsole.log(foo) // 1\nconsole.log(bar) // 2\nconsole.log(baz) // 3\n\nconst [, , third] = ['foo', 'bar', 'baz']\nconsole.log(third) // \"baz\"\n\nconst [x, , y] = [1, 2, 3]\nconsole.log(x) // 1\nconsole.log(y) // 3\n\nconst [head, ...tail] = [1, 2, 3, 4]\nconsole.log(head) // 1\nconsole.log(tail) // [2, 3, 4]\n\nconst [x, y, ...z] = ['a']\nconsole.log(x) // \"a\"\nconsole.log(y) // undefined\nconsole.log(z) // []\n\n// Generator \u51FD\u6570\nfunction* fibs() {\n  let a = 0\n  let b = 1\n\n  while (true) {\n    yield a\n    ;[a, b] = [b, a + b]\n  }\n}\n\nconst [first, second, third, fourth, fifth, sixth] = fibs()\nconsole.log(sixth) // 5\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Left-hand side of a normal assignment:"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"let x = 1\nlet y = 2\n;[x, y] = [y, x]\n"})}),"\n",(0,r.jsx)(e.h3,{id:"map-and-list",children:"Map and List"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"for index in Iterable<T>"}),": key."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"for [key, value] of Iterable<T>"}),": entry."]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"const map = new Map()\nmap.set('first', 'hello')\nmap.set('second', 'world')\n\nfor (const [key, value] of map)\n  console.log(`${key} is ${value}`)\n\n// first is hello\n// second is world\n\n// \u83B7\u53D6\u952E\u540D\nfor (const [key] of map) {\n  // ...\n}\n\n// \u83B7\u53D6\u952E\u503C\nfor (const [, value] of map) {\n  // ...\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"string",children:"String"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'const [a, b, c, d, e] = \'hello\'\nconsole.log(a) // "h"\nconsole.log(b) // "e"\nconsole.log(c) // "l"\nconsole.log(d) // "l"\nconsole.log(e) // "o"\n\nconst { length: len } = \'hello\'\nconsole.log(len) // 5\n'})}),"\n",(0,r.jsx)(e.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u53EF\u7528\u4E8E\u5DE5\u5382 (",(0,r.jsx)(e.code,{children:"factory"}),") / \u8BBE\u7F6E (",(0,r.jsx)(e.code,{children:"options"}),") \u6A21\u5F0F\u4F20\u53C2\u4E00\u822C\u4E3A ",(0,r.jsx)(e.code,{children:"options"})," \u5BF9\u8C61,"]}),"\n",(0,r.jsx)(e.li,{children:"\u5177\u6709\u56FA\u5B9A\u7684\u5C5E\u6027\u540D."}),"\n",(0,r.jsx)(e.li,{children:"\u4E00\u6B21\u6027\u5B9A\u4E49\u591A\u4E2A\u53C2\u6570."}),"\n",(0,r.jsx)(e.li,{children:"\u4E00\u6B21\u6027\u5B9A\u4E49\u591A\u4E2A\u53C2\u6570\u7684\u9ED8\u8BA4\u503C."}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// \u53C2\u6570\u662F\u4E00\u7EC4\u6709\u6B21\u5E8F\u7684\u503C\nfunction f1([x, y, z]) {}\nf1([1, 2, 3])\n\n// \u53C2\u6570\u662F\u4E00\u7EC4\u65E0\u6B21\u5E8F\u7684\u503C\nfunction f2({ x, y, z }) {}\nf2({ z: 3, y: 2, x: 1 })\n\n// \u53EF\u7701\u7565 const foo = config.foo || 'default foo';\njQuery.ajax = function (\n  url,\n  {\n    async = true,\n    beforeSend = function () {},\n    cache = true,\n    complete = function () {},\n    crossDomain = false,\n    global = true,\n    // ... more config\n  }\n) {\n  // ... do stuff\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"return-value",children:"Return Value"}),"\n",(0,r.jsx)(e.p,{children:"\u8FD4\u56DE\u591A\u4E2A\u503C:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// \u8FD4\u56DE\u4E00\u4E2A\u6570\u7EC4\nfunction example1() {\n  return [1, 2, 3]\n}\n\nconst [a, b, c] = example1()\n\n// \u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\nfunction example2() {\n  return {\n    foo: 1,\n    bar: 2,\n  }\n}\n\nconst { foo, bar } = example2()\n"})})]})}function u(n={}){let{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},30416(n,e,l){l.d(e,{R:()=>t,x:()=>a});var s=l(59471);let r={},o=s.createContext(r);function t(n){let e=s.useContext(o);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);