<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-programming/cmake/cmake" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>CMake | Personal Notes</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://tazimi.dev/notes/programming/cmake/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="CMake | Personal Notes"/><meta data-rh=true name=description content="Build System"/><meta data-rh=true property=og:description content="Build System"/><link data-rh=true rel=icon href=/notes/img/logo.svg /><link data-rh=true rel=canonical href=https://tazimi.dev/notes/programming/cmake/ /><link data-rh=true rel=alternate href=https://tazimi.dev/notes/programming/cmake/ hreflang=en /><link data-rh=true rel=alternate href=https://tazimi.dev/notes/programming/cmake/ hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://tazimi.dev/notes/programming/","name":"Programming","position":1},{"@type":"ListItem","item":"https://tazimi.dev/notes/programming/cmake/","name":"CMake","position":2}]}</script><link rel=stylesheet href=/notes/assets/css/styles.fe402815.css /><script src=/notes/assets/js/runtime~main.bff74981.js defer></script><script src=/notes/assets/js/main.105cc82a.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/notes/img/logo.svg /><div role=region aria-label="Skip to main content"><a class=skipToContent_a95V href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_kMqm"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/notes/><div class=navbar__logo><img src=/notes/img/logo.svg alt="Today I Learned" class="themedComponent_Qz9N themedComponent--light_KUAm"/><img src=/notes/img/logo.svg alt="Today I Learned" class="themedComponent_Qz9N themedComponent--dark_sg19"/></div><b class="navbar__title text--truncate">TIL</b></a><a class="navbar__item navbar__link" href=/notes/intro>Notes</a><a class="navbar__item navbar__link" href=/notes/ai>AI</a><a class="navbar__item navbar__link" href=/notes/cs>CS</a><a class="navbar__item navbar__link" href=/notes/web>Web</a><a class="navbar__item navbar__link" href=/notes/language>Language</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/notes/programming>Programming</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/notes/web/library>Library Gallery</a><a href=https://github.com/sabertazimi/notes target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><div class="toggle_xd5f colorModeToggle_uCEc"><button class="clean-btn toggleButton_uz0f toggleButtonDisabled_XkyR" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_vzhX lightToggleIcon_oj6Y"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_vzhX darkToggleIcon_H9YQ"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_vzhX systemToggleIcon_r7TJ"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_aifg><div class="navbar__search searchBarContainer_W0oD" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_juq5" value="" /><div class="loadingRing_rex3 searchBarLoadingRing_Y3Tw"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_rrKs"><div class=docsWrapper_NtUm><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_gzdI" type=button></button><div class=docRoot_PGsa><aside class="theme-doc-sidebar-container docSidebarContainer_aiRL"><div class=sidebarViewport_MLO7><div class="sidebar_G9Wb sidebarWithHideableNavbar_cKbE"><a tabindex=-1 class=sidebarLogo_mVm8 href=/notes/><img src=/notes/img/logo.svg alt="Today I Learned" class="themedComponent_Qz9N themedComponent--light_KUAm"/><img src=/notes/img/logo.svg alt="Today I Learned" class="themedComponent_Qz9N themedComponent--dark_sg19"/><b>TIL</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_CqPf"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/notes/intro><span title=Notes class=linkLabel_k54U>Notes</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" href=/notes/ai/><span title=AI class=categoryLinkLabel_QKTQ>AI</span></a><button aria-label="Expand sidebar category 'AI'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" href=/notes/cs/><span title=CS class=categoryLinkLabel_QKTQ>CS</span></a><button aria-label="Expand sidebar category 'CS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" href=/notes/web/><span title=Web class=categoryLinkLabel_QKTQ>Web</span></a><button aria-label="Expand sidebar category 'Web'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" href=/notes/language/><span title=Language class=categoryLinkLabel_QKTQ>Language</span></a><button aria-label="Expand sidebar category 'Language'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist menu__link--active" href=/notes/programming/><span title=Programming class=categoryLinkLabel_QKTQ>Programming</span></a><button aria-label="Collapse sidebar category 'Programming'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" tabindex=0 href=/notes/programming/android/><span title=Android class=categoryLinkLabel_QKTQ>Android</span></a><button aria-label="Expand sidebar category 'Android'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/notes/programming/cmake/><span title=CMake class=linkLabel_k54U>CMake</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" tabindex=0 href=/notes/programming/design/><span title=Design class=categoryLinkLabel_QKTQ>Design</span></a><button aria-label="Expand sidebar category 'Design'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" tabindex=0 href=/notes/programming/devops/><span title=DevOps class=categoryLinkLabel_QKTQ>DevOps</span></a><button aria-label="Expand sidebar category 'DevOps'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/programming/game/><span title="Game Design" class=linkLabel_k54U>Game Design</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" tabindex=0 href=/notes/programming/git/><span title=Git class=categoryLinkLabel_QKTQ>Git</span></a><button aria-label="Expand sidebar category 'Git'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" tabindex=0 href=/notes/programming/linux/><span title=Linux class=categoryLinkLabel_QKTQ>Linux</span></a><button aria-label="Expand sidebar category 'Linux'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/programming/make/><span title=Makefile class=linkLabel_k54U>Makefile</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_UNzj menu__link menu__link--sublist" tabindex=0 href=/notes/programming/vim/><span title=Vim class=categoryLinkLabel_QKTQ>Vim</span></a><button aria-label="Expand sidebar category 'Vim'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_fXvC"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_wrAS><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_Yxco><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_yicr"><div class=docItemContainer_qgPh><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_ZDU1" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/notes/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_bQmg><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/notes/programming/><span>Programming</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>CMake</span></ul></nav><div class="tocCollapsible_H0gK theme-doc-toc-mobile tocMobile_t31C"><button type=button class="clean-btn tocCollapsibleButton_mPmr">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CMake</h1></header>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=build-system>Build System<a href=#build-system class=hash-link aria-label="Direct link to Build System" title="Direct link to Build System" translate=no>​</a></h2>
<p>Build for executable:</p>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">cmake_minimum_required</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token number" style=color:#36acaa>2.8</span><span class="token plain">.9</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">project</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">directory_test</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_definitions</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">-DUSEXX</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_compile_options</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">-std</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">c++11 </span><span class="token parameter variable" style=color:#36acaa>-Wall</span><span class="token plain"> -Wextra</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Bring the headers, such as Student.h into the project</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Can manually add the sources using the set command as follows:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># set(SOURCES src/mainApp.cpp src/Student.cpp)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># However, the file(GLOB...) allows for wildcard additions:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">file</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">GLOB SOURCES </span><span class="token string" style=color:#e3116c>"src/*.cpp"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">STATUS </span><span class="token string" style=color:#e3116c>"CMake demo: build for executable"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">testStudent </span><span class="token variable" style=color:#36acaa>${SOURCES}</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<p>build for library</p>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">cmake_minimum_required</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token number" style=color:#36acaa>2.8</span><span class="token plain">.9</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">project</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">directory_test</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CMAKE_BUILD_TYPE Release</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Bring the headers, such as Student.h into the project</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># However, the file(GLOB...) allows for wildcard additions:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">file</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">GLOB SOURCES </span><span class="token string" style=color:#e3116c>"src/*.cpp"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Generate the shared library from the sources</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># flag: SHARED, STATIC, MODULE</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_library</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">testStudent SHARED </span><span class="token variable" style=color:#36acaa>${SOURCES}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">STATUS </span><span class="token string" style=color:#e3116c>"CMake demo: build for library"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Set the location for library installation -- i.e., /usr/lib in this case</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># not really necessary in this example. Use "sudo make install" to apply</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">install</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TARGETS testStudent DESTINATION /usr/lib</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<p>use a shared or static library</p>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">cmake_minimum_required</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token number" style=color:#36acaa>2.8</span><span class="token plain">.9</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">project</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TestLibrary</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># For the shared library:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">PROJECT_LINK_LIBS libTestStudent.so</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">link_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">~/exploringBB/extras/cmake/studentLib_shared/build</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># For the static library:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># set (PROJECT_LINK_LIBS libTestStudent.a)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># link_directories(~/exploringBB/extras/cmake/studentLib_static/build)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">~/exploringBB/extras/cmake/studentLib_shared/include</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">libTest libTest.cpp</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">libTest </span><span class="token variable" style=color:#36acaa>${PROJECT_LINK_LIBS}</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">STATUS </span><span class="token string" style=color:#e3116c>"CMake demo: use library"</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<p>set output of library</p>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># 指定lib输出目录</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CMAKE_ARCHIVE_OUTPUT_DIRECTORY </span><span class="token variable" style=color:#36acaa>${CMAKE_BINARY_DIR}</span><span class="token plain">/lib</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CMAKE_LIBRARY_OUTPUT_DIRECTORY </span><span class="token variable" style=color:#36acaa>${CMAKE_BINARY_DIR}</span><span class="token plain">/lib</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CMAKE_RUNTIME_OUTPUT_DIRECTORY </span><span class="token variable" style=color:#36acaa>${CMAKE_BINARY_DIR}</span><span class="token plain">/bin</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># 指定版本</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO5_VERSION_MAJOR </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO5_VERSION_MINOR </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO5_VERSION_PATCH </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO5_VERSION </span><span class="token variable" style=color:#36acaa>${DEMO5_VERSION_MAJOR}</span><span class="token builtin class-name">.</span><span class="token variable" style=color:#36acaa>${DEMO5_VERSION_MINOR}</span><span class="token builtin class-name">.</span><span class="token variable" style=color:#36acaa>${DEMO5_VERSION_PATCH}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">aux_source_directory</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">. SRC_LIST</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_library</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo5 SHARED </span><span class="token variable" style=color:#36acaa>${SRC_LIST}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set_target_properties</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    demo5 PROPERTIES</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    VERSION </span><span class="token variable" style=color:#36acaa>${DEMO5_VERSION}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    SOVERSION </span><span class="token variable" style=color:#36acaa>${DEMO5_VERSION_MAJOR}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<p>build for library and executable</p>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">cmake_minimum_required</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token number" style=color:#36acaa>3.5</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">project</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">MiniSat VERSION </span><span class="token number" style=color:#36acaa>2.2</span><span class="token plain"> LANGUAGES CXX</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_library</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">libMiniSat STATIC</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    miniSat/core/Solver.cc</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    miniSat/utils/Options.cc</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    miniSat/utils/System.cc</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    miniSat/simp/SimpSolver.cc</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_compile_features</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">libMiniSat</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    PUBLIC</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      cxx_attributes</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      cxx_defaulted_functions</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      cxx_deleted_functions</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      cxx_final</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">libMiniSat PUBLIC </span><span class="token variable" style=color:#36acaa>${CMAKE_CURRENT_SOURCE_DIR}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_compile_definitions</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">libMiniSat PUBLIC __STDC_LIMIT_MACROS __STDC_FORMAT_MACROS</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Also build the two MiniSat executables</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">miniSat miniSat/core/Main.cc</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">miniSat libMiniSat</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">miniSat-simp miniSat/simp/Main.cc</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">miniSat-simp libMiniSat</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=options>Options<a href=#options class=hash-link aria-label="Direct link to Options" title="Direct link to Options" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>make</span><span class="token plain"> </span><span class="token assign-left variable" style=color:#36acaa>VERBOSE</span><span class="token operator" style=color:#393A34>=</span><span class="token number" style=color:#36acaa>1</span><br/></span></code></pre></div></div>
<p>Standard options:</p>
<ul>
<li class=""><code>-DCMAKE_BUILD_TYPE=</code> Pick from Release, RelWithDebInfo, Debug, or sometimes more</li>
<li class=""><code>-DCMAKE_INSTALL_PREFIX=</code> /usr/local (the default), ~/.local</li>
<li class=""><code>-D BUILD_SHARED_LIBS=</code></li>
<li class=""><code>--trace</code> print every line of CMake</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=flow-control>Flow Control<a href=#flow-control class=hash-link aria-label="Direct link to Flow Control" title="Direct link to Flow Control" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=if>If<a href=#if class=hash-link aria-label="Direct link to If" title="Direct link to If" translate=no>​</a></h3>
<ul>
<li class="">Unary: NOT, TARGET, EXISTS (file), DEFINED</li>
<li class="">Binary: STREQUAL, AND, OR, MATCHES(regular expression), VERSION_LESS, VERSION_LESS_EQUAL</li>
</ul>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">WIN32</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"This is win32 platform"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">else</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"This is not win32 platform"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=foreach>Foreach<a href=#foreach class=hash-link aria-label="Direct link to Foreach" title="Direct link to Foreach" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">FOR_LIST demo1.cpp demo2.cpp demo3.cpp</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">foreach</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">f </span><span class="token variable" style=color:#36acaa>${FOR_LIST}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"now is file: "</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>${f}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endforeach </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=while>While<a href=#while class=hash-link aria-label="Direct link to While" title="Direct link to While" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">A </span><span class="token string" style=color:#e3116c>"1"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">B </span><span class="token string" style=color:#e3116c>"1"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">while</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">A LESS </span><span class="token string" style=color:#e3116c>"1000000"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${A}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">                 </span><span class="token comment" style=color:#999988;font-style:italic># Print A</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    math</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EXPR T </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${A}</span><span class="token string" style=color:#e3116c> + </span><span class="token string variable" style=color:#36acaa>${B}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">      </span><span class="token comment" style=color:#999988;font-style:italic># Add values of A and B; store result in T</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">A </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${B}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">                   </span><span class="token comment" style=color:#999988;font-style:italic># Assign the value of B to A</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">B </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${T}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">                   </span><span class="token comment" style=color:#999988;font-style:italic># Assign the value of T to B</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endwhile</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=function>Function<a href=#function class=hash-link aria-label="Direct link to Function" title="Direct link to Function" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">function</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">doubleIt VALUE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    math</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EXPR RESULT </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${VALUE}</span><span class="token string" style=color:#e3116c> * 2"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${RESULT}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endfunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">doubleIt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"4"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">          </span><span class="token comment" style=color:#999988;font-style:italic># Prints: 8</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">function</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">doubleIt VARNAME VALUE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    math</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EXPR RESULT </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${VALUE}</span><span class="token string" style=color:#e3116c> * 2"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${VARNAME}</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${RESULT}</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"> PARENT_SCOPE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endfunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">doubleIt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">RESULT </span><span class="token string" style=color:#e3116c>"4"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">   </span><span class="token comment" style=color:#999988;font-style:italic># Tell the function to set the variable named RESULT</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${RESULT}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">   </span><span class="token comment" style=color:#999988;font-style:italic># Prints: 8</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">function</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">doubleEach</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    foreach</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">ARG </span><span class="token variable" style=color:#36acaa>${ARGN}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">           </span><span class="token comment" style=color:#999988;font-style:italic># Iterate over each argument</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        math</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EXPR N </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${ARG}</span><span class="token string" style=color:#e3116c> * 2"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic># Double ARG numeric value</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${N}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic># Print N</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    endforeach</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endfunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">doubleEach</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>5</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>6</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>7</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>8</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">                </span><span class="token comment" style=color:#999988;font-style:italic># Prints 10, 12, 14, 16 on separate lines</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=parse-arguments>Parse Arguments<a href=#parse-arguments class=hash-link aria-label="Direct link to Parse Arguments" title="Direct link to Parse Arguments" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">function</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">COMPLEX</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">cmake_parse_arguments</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    COMPLEX_PREFIX</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"SINGLE;ANOTHER"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"ONE_VALUE;ALSO_ONE_VALUE"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"MULTI_VALUES"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token variable" style=color:#36acaa>${ARGN}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endfunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">complex</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">SINGLE ONE_VALUE value MULTI_VALUES some other values</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<p>Inside the function after this call, you'll find:</p>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">COMPLEX_PREFIX_SINGLE </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> TRUE</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">COMPLEX_PREFIX_ANOTHER </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> FALSE</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">COMPLEX_PREFIX_ONE_VALUE </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"value"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">COMPLEX_PREFIX_ALSO_ONE_VALUE </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">UNDEFINED</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">COMPLEX_PREFIX_MULTI_VALUES </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"some;other;values"</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=check>Check<a href=#check class=hash-link aria-label="Direct link to Check" title="Direct link to Check" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># does this system provide the log and exp functions?</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CheckFunctionExists</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">check_function_exists</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">log HAVE_LOG</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">check_function_exists</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">exp HAVE_EXP</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=test>Test<a href=#test class=hash-link aria-label="Direct link to Test" title="Direct link to Test" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>#define a macro to simplify adding tests, then use it</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">macro</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">do_test arg result</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  add_test</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialComp</span><span class="token variable" style=color:#36acaa>${arg}</span><span class="token plain"> Tutorial </span><span class="token variable" style=color:#36acaa>${arg}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  set_tests_properties</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialComp</span><span class="token variable" style=color:#36acaa>${arg}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    PROPERTIES PASS_REGULAR_EXPRESSION </span><span class="token variable" style=color:#36acaa>${result}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endmacro</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">do_test</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># do a bunch of result based tests</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">do_test</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>25</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"25 is 5"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">do_test</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">-25 </span><span class="token string" style=color:#e3116c>"-25 is 0"</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CTest</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># does the application run</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_test </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialRuns Tutorial </span><span class="token number" style=color:#36acaa>25</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># does it sqrt of 25</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_test </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialComp25 Tutorial </span><span class="token number" style=color:#36acaa>25</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set_tests_properties </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialComp25 PROPERTIES PASS_REGULAR_EXPRESSION </span><span class="token string" style=color:#e3116c>"25 is 5"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># does it handle negative numbers</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_test </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialNegative Tutorial -25</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set_tests_properties </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    TutorialNegative PROPERTIES</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    PASS_REGULAR_EXPRESSION </span><span class="token string" style=color:#e3116c>"-25 is 0"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># does it handle small numbers</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_test </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialSmall Tutorial </span><span class="token number" style=color:#36acaa>0.0001</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set_tests_properties </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    TutorialSmall PROPERTIES</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    PASS_REGULAR_EXPRESSION </span><span class="token string" style=color:#e3116c>"0.0001 is 0.01"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># does the usage message work?</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_test </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TutorialUsage Tutorial</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set_tests_properties </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    TutorialUsage PROPERTIES</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    PASS_REGULAR_EXPRESSION </span><span class="token string" style=color:#e3116c>"Usage:.*number"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CTEST_SOURCE_DIRECTORY </span><span class="token string" style=color:#e3116c>"/source"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CTEST_BINARY_DIRECTORY </span><span class="token string" style=color:#e3116c>"/binary"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">ENV</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">CXXFLAGS</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"--coverage"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CTEST_CMAKE_GENERATOR </span><span class="token string" style=color:#e3116c>"Ninja"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CTEST_USE_LAUNCHERS </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CTEST_COVERAGE_COMMAND </span><span class="token string" style=color:#e3116c>"gcov"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CTEST_MEMORYCHECK_COMMAND </span><span class="token string" style=color:#e3116c>"valgrind"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>#set(CTEST_MEMORYCHECK_TYPE "ThreadSanitizer")</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ctest_start</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"Continuous"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ctest_configure</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ctest_build</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ctest_test</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ctest_coverage</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ctest_memcheck</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ctest_submit</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">macro</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">package_add_test TESTNAME</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${TESTNAME}</span><span class="token plain"> </span><span class="token variable" style=color:#36acaa>${ARGN}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${TESTNAME}</span><span class="token plain"> gtest gmock gtest_main</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    add_test</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${TESTNAME}</span><span class="token plain"> COMMAND </span><span class="token variable" style=color:#36acaa>${TESTNAME}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    set_target_properties</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${TESTNAME}</span><span class="token plain"> PROPERTIES FOLDER tests</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endmacro</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">package_add_test</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">test1 test1.cpp</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=option>Option<a href=#option class=hash-link aria-label="Direct link to Option" title="Direct link to Option" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># 是否使用我们自己的函数？</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">option</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">USE_MATH</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token string" style=color:#e3116c>"Use tutorial provided math implementation"</span><span class="token plain"> ON</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># add the MathFunctions library?</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">USE_MATH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${PROJECT_SOURCE_DIR}</span><span class="token string" style=color:#e3116c>/MathFunctions"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  add_subdirectory</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">MathFunctions</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EXTRA_LIBS </span><span class="token variable" style=color:#36acaa>${EXTRA_LIBS}</span><span class="token plain"> MathFunctions</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">USE_MATH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># add the executable</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Tutorial tutorial.cxx</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Tutorial  </span><span class="token variable" style=color:#36acaa>${EXTRA_LIBS}</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=math>Math<a href=#math class=hash-link aria-label="Direct link to Math" title="Direct link to Math" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">ARGS </span><span class="token string" style=color:#e3116c>"EXPR;T;1 + 1"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">math</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${ARGS}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">                      </span><span class="token comment" style=color:#999988;font-style:italic># Equivalent to calling math(EXPR T "1 + 1")</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=list>List<a href=#list class=hash-link aria-label="Direct link to List" title="Direct link to List" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">MY_LIST These are separate arguments</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">list</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">REMOVE_ITEM MY_LIST </span><span class="token string" style=color:#e3116c>"separate"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic># Removes "separate" from the list</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${MY_LIST}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">                 </span><span class="token comment" style=color:#999988;font-style:italic># Prints: These;are;arguments</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=package>Package<a href=#package class=hash-link aria-label="Direct link to Package" title="Direct link to Package" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># build a CPack driven installer package</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">InstallRequiredSystemLibraries</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CPACK_RESOURCE_FILE_LICENSE</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${CMAKE_CURRENT_SOURCE_DIR}</span><span class="token string" style=color:#e3116c>/License.txt"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CPACK_PACKAGE_VERSION_MAJOR </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${Tutorial_VERSION_MAJOR}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CPACK_PACKAGE_VERSION_MINOR </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${Tutorial_VERSION_MINOR}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CPack</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">cpack </span><span class="token parameter variable" style=color:#36acaa>--config</span><span class="token plain"> CPackConfig.cmake</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">cpack </span><span class="token parameter variable" style=color:#36acaa>--config</span><span class="token plain"> CPackSourceConfig.cmake</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=install>Install<a href=#install class=hash-link aria-label="Direct link to Install" title="Direct link to Install" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">find_package</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Bar </span><span class="token number" style=color:#36acaa>2.0</span><span class="token plain"> REQUIRED</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_library</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo </span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo PRIVATE Bar::Bar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">install</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TARGETS Foo EXPORT FooTargets</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  LIBRARY DESTINATION lib</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  ARCHIVE DESTINATION lib</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  RUNTIME DESTINATION bin</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  INCLUDES DESTINATION include</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">install</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">EXPORT FooTargets</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  FILE FooTargets.cmake</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  NAMESPACE Foo::</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  DESTINATION lib/cmake/Foo</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=binaries>Binaries<a href=#binaries class=hash-link aria-label="Direct link to Binaries" title="Direct link to Binaries" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TARGETS targets</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">ARCHIVE</span><span class="token operator" style=color:#393A34>|</span><span class="token plain">LIBRARY</span><span class="token operator" style=color:#393A34>|</span><span class="token plain">RUNTIME</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">DESTINATION </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>dir</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">PERMISSIONS permissions</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CONFIGURATIONS</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Debug</span><span class="token operator" style=color:#393A34>|</span><span class="token plain">Release</span><span class="token operator" style=color:#393A34>|</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">COMPONENT </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> component </span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">OPTIONAL</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TARGETS myRun myLib myStaticLib</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        RUNTIME DESTINATION bin</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        LIBRARY DESTINATION lib</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        ARCHIVE DESTINATION libStatic）</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=normal-files>Normal Files<a href=#normal-files class=hash-link aria-label="Direct link to Normal Files" title="Direct link to Normal Files" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">FILES files</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">. DESTINATION </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">dir</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">PERMISSIONS permissions</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CONFIGURATIONS </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Debug</span><span class="token operator" style=color:#393A34>|</span><span class="token plain">Release</span><span class="token operator" style=color:#393A34>|</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">COMPONENT </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">component</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">RENAME </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">name</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">OPTIONAL</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">FILES COPYRIGHT README DESTINATION share/doc/cmake/t2</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=scripts>Scripts<a href=#scripts class=hash-link aria-label="Direct link to Scripts" title="Direct link to Scripts" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">PROGRAMS files</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">. DESTINATION </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">dir</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">PERMISSIONS permissions</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CONFIGURATIONS </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Debug</span><span class="token operator" style=color:#393A34>|</span><span class="token plain">Release</span><span class="token operator" style=color:#393A34>|</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">COMPONENT </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">component</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">RENAME </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">name</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">OPTIONAL</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">PROGRAMS runHello.sh DESTINATION bin</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=directories>Directories<a href=#directories class=hash-link aria-label="Direct link to Directories" title="Direct link to Directories" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DIRECTORY dirs</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">. DESTINATION </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">dir</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">FILE_PERMISSIONS permissions</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">DIRECTORY_PERMISSIONS permissions</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">USE_SOURCE_PERMISSIONS</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CONFIGURATIONS </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Debug</span><span class="token operator" style=color:#393A34>|</span><span class="token plain">Release</span><span class="token operator" style=color:#393A34>|</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">COMPONENT </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">component</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">PATTERN </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">pattern</span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> REGEX </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">regex</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">EXCLUDE</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">PERMISSIONS permissions</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain">.</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">INSTALL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DIRECTORY icons scripts/ DESTINATION share/myProj</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     PATTERN </span><span class="token string" style=color:#e3116c>"CVS"</span><span class="token plain"> EXCLUDE</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     PATTERN </span><span class="token string" style=color:#e3116c>"scripts/*"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">     GROUP_EXECUTE GROUP_READ</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=find>Find<a href=#find class=hash-link aria-label="Direct link to Find" title="Direct link to Find" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">cmake –-help-module-list</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>ls</span><span class="token plain"> /usr/share/cmake/Modules/</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">cmake --help-module FindBZip2</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">project</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">helloWorld</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">helloWorld hello.c</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">find_package </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">BZip2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">BZIP2_FOUND</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${BZIP_INCLUDE_DIRS}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">helloWorld </span><span class="token variable" style=color:#36acaa>${BZIP2_LIBRARIES}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">BZIP2_FOUND</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">find_path</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo_INCLUDE_DIR foo.h</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">find_library</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo_LIBRARY foo</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">mark_as_advanced</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo_INCLUDE_DIR Foo_LIBRARY</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">FindPackageHandleStandardArgs</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">find_package_handle_standard_args</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  REQUIRED_VARS Foo_LIBRARY Foo_INCLUDE_DIR</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo_FOUND AND NOT TARGET Foo::Foo</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  add_library</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo::Foo UNKNOWN IMPORTED</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  set_target_properties</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Foo::Foo PROPERTIES</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    IMPORTED_LINK_INTERFACE_LANGUAGES </span><span class="token string" style=color:#e3116c>"CXX"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    IMPORTED_LOCATION </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${Foo_LIBRARY}</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    INTERFACE_INCLUDE_DIRECTORIES </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${Foo_INCLUDE_DIR}</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<p>Find.cmake: add find module for project:</p>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># cmake/FindDEMO9LIB.cmake</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># 辅助输出信息</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"now using FindDEMO9LIB.cmake find demo9 lib"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># 将demo9.h文件路径赋值给DEMO9LIB_INCLUDE_DIR</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">FIND_PATH</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB_INCLUDE_DIR demo9.h /usr/include/demo9/</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        /usr/local/demo9/include/</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"./h dir </span><span class="token string variable" style=color:#36acaa>${DEMO9LIB_INCLUDE_DIR}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># 将libDemo9_lib.a文件路径赋值给DEMO9LIB_LIBRARY</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">FIND_LIBRARY</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB_LIBRARY libDemo9_lib.a /usr/local/demo9/lib/</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"lib dir: </span><span class="token string variable" style=color:#36acaa>${DEMO9LIB_LIBRARY}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB_INCLUDE_DIR AND DEMO9LIB_LIBRARY</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># 设置变量结果</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB_FOUND TRUE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB_INCLUDE_DIR AND DEMO9LIB_LIBRARY</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># CMakeLists.txt</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">cmake_minimum_required</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token number" style=color:#36acaa>3.5</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">project</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo9</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># create libDemo9_lib.a</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">SRC_LIB demo9.cpp</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">add_library</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo9_lib STATIC </span><span class="token variable" style=color:#36acaa>${SRC_LIB}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># install it</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">install</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">TARGETS demo9_lib DESTINATION demo9/lib</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">install</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">FILES demo9.h DESTINATION demo9/include</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># create demo9_main executable</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">SRC_EXE demo9_main.cpp</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># set demo9_lib cmake module path</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">set</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CMAKE_MODULE_PATH </span><span class="token variable" style=color:#36acaa>${PROJECT_SOURCE_DIR}</span><span class="token plain">/cmake</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"cmake_module_path: </span><span class="token string variable" style=color:#36acaa>${CMAKE_MODULE_PATH}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">find_package</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB_FOUND</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    add_executable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo9_main </span><span class="token variable" style=color:#36acaa>${SRC_EXE}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"found demo9 </span><span class="token string variable" style=color:#36acaa>${DEMO9LIB_INCLUDE_DIR}</span><span class="token string" style=color:#e3116c> </span><span class="token string variable" style=color:#36acaa>${DEMO9LIB_LIBRARY}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${DEMO9LIB_INCLUDE_DIR}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    target_link_libraries</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">demo9_main </span><span class="token variable" style=color:#36acaa>${DEMO9LIB_LIBRARY}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">else</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"not found DEMO9LIB_FOUND"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">DEMO9LIB_FOUND</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=config>Config<a href=#config class=hash-link aria-label="Direct link to Config" title="Direct link to Config" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=version>Version<a href=#version class=hash-link aria-label="Direct link to Version" title="Direct link to Version" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">cmake_minimum_required</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token number" style=color:#36acaa>3.1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable" style=color:#36acaa>${CMAKE_VERSION}</span><span class="token plain"> VERSION_LESS </span><span class="token number" style=color:#36acaa>3.13</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  cmake_policy</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token variable" style=color:#36acaa>${CMAKE_MAJOR_VERSION}</span><span class="token builtin class-name">.</span><span class="token variable" style=color:#36acaa>${CMAKE_MINOR_VERSION}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">else</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  cmake_policy</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">VERSION </span><span class="token number" style=color:#36acaa>3.13</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=project>Project<a href=#project class=hash-link aria-label="Direct link to Project" title="Direct link to Project" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">project</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">MyProject VERSION </span><span class="token number" style=color:#36acaa>1.0</span><span class="token plain"> DESCRIPTION </span><span class="token string" style=color:#e3116c>"Very nice project"</span><span class="token plain"> LANGUAGES CXX</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=environment>Environment<a href=#environment class=hash-link aria-label="Direct link to Environment" title="Direct link to Environment" translate=no>​</a></h3>
<p><code>set(ENV{variable_name} value)</code> and get <code>$ENV{variable_name}</code> environment variables</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=library-for-clients>Library for Clients<a href=#library-for-clients class=hash-link aria-label="Direct link to Library for Clients" title="Direct link to Library for Clients" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CMakePackageConfigHelpers</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">write_basic_package_version_file</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"FooConfigVersion.cmake"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  VERSION </span><span class="token variable" style=color:#36acaa>${Foo_VERSION}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  COMPATIBILITY SameMajorVersion</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">install</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">FILES </span><span class="token string" style=color:#e3116c>"FooConfig.cmake"</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"FooConfigVersion.cmake"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  DESTINATION lib/cmake/Foo</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">CMakeFindDependencyMacro</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">find_dependency</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Bar </span><span class="token number" style=color:#36acaa>2.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">include</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${CMAKE_CURRENT_LIST_DIR}</span><span class="token string" style=color:#e3116c>/FooTargets.cmake"</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=generator-expression>Generator Expression<a href=#generator-expression class=hash-link aria-label="Direct link to Generator Expression" title="Direct link to Generator Expression" translate=no>​</a></h2>
<p>Most CMake commands happen at configure time,
include the if statements seen above.
Generator expressions were added at runtime.
They are evaluated in target properties:</p>
<ul>
<li class="">If you want to put a compile flag only for the DEBUG configuration</li>
<li class="">Limiting an item to a certain language only, such as CXX</li>
<li class="">Accessing configuration dependent properties, like target file location</li>
<li class="">Giving a different location for build and install directories</li>
</ul>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">target_include_directories</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">MyTarget PUBLIC</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  $</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">BUILD_INTERFACE:</span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${CMAKE_CURRENT_SOURCE_DIR}</span><span class="token string" style=color:#e3116c>/include"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  $</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">INSTALL_INTERFACE:include</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=submodule-and-dependencies>Submodule and Dependencies<a href=#submodule-and-dependencies class=hash-link aria-label="Direct link to Submodule and Dependencies" title="Direct link to Submodule and Dependencies" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">find_package</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Git QUIET</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">GIT_FOUND AND EXISTS </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${PROJECT_SOURCE_DIR}</span><span class="token string" style=color:#e3116c>/.git"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  execute_process</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">COMMAND</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token variable" style=color:#36acaa>${GIT_EXECUTABLE}</span><span class="token plain"> submodule update </span><span class="token parameter variable" style=color:#36acaa>--init</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--recursive</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    WORKING_DIRECTORY </span><span class="token variable" style=color:#36acaa>${CMAKE_CURRENT_SOURCE_DIR}</span><span class="token plain"> RESULT_VARIABLE GIT_SUBMOD_RESULT</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">NOT GIT_SUBMOD_RESULT EQUAL </span><span class="token string" style=color:#e3116c>"0"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    message</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">FATAL_ERROR </span><span class="token string" style=color:#e3116c>"git submodule update --init failed with </span><span class="token string variable" style=color:#36acaa>${GIT_SUBMOD_RESULT}</span><span class="token string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">endif</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=patterns>Patterns<a href=#patterns class=hash-link aria-label="Direct link to Patterns" title="Direct link to Patterns" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=modern>Modern<a href=#modern class=hash-link aria-label="Direct link to Modern" title="Direct link to Modern" translate=no>​</a></h3>
<p>Modern CMake is all about targets and properties.</p>
<p>Constructors of Targets:</p>
<ul>
<li class="">add_executable()</li>
<li class="">add_library()</li>
</ul>
<p>Member variables of Targets:</p>
<ul>
<li class="">Target properties</li>
</ul>
<p>Member functions:</p>
<ul>
<li class="">get_target_property()</li>
<li class="">set_target_properties()</li>
<li class="">get_property(TARGET)</li>
<li class="">set_property(TARGET)</li>
<li class="">target_compile_definitions()</li>
<li class="">target_compile_features()</li>
<li class="">target_compile_options()</li>
<li class="">target_include_directories()</li>
<li class="">target_link_libraries()</li>
<li class="">target_sources()</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=interface-vs-private>Interface vs Private<a href=#interface-vs-private class=hash-link aria-label="Direct link to Interface vs Private" title="Direct link to Interface vs Private" translate=no>​</a></h3>
<p>interface properties model usage requirements,
whereas private properties model build requirements of targets.</p>
<div class="theme-admonition theme-admonition-tip admonition_TrbN alert alert--success"><div class=admonitionHeading_zXwB><span class=admonitionIcon_AhFl><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Nice Patterns</div><div class=admonitionContent_nCa6><ul>
<li class="">Think in targets (Object-Oriented)</li>
<li class="">Export your interface: You should be able to run from build or install</li>
<li class="">Write a Config.cmake file: This is what a library author should do to support clients</li>
<li class="">Make ALIAS targets to keep usage consistent</li>
<li class="">Combine common functionality into clearly documented functions</li>
<li class="">Use lowercase function names</li>
<li class="">Upper case is for variables</li>
<li class="">Use cmake_policy and/or range of versions</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-danger admonition_TrbN alert alert--danger"><div class=admonitionHeading_zXwB><span class=admonitionIcon_AhFl><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Anti Patterns</div><div class=admonitionContent_nCa6><ul>
<li class="">Do not use global functions: e.g. <code>link_directories</code>, <code>include_libraries</code></li>
<li class="">Don't add unneeded PUBLIC requirements e.g. <code>-Wall</code></li>
<li class="">Don't GLOB files</li>
<li class="">Link to built files directly: Always link to targets if available</li>
<li class="">Never skip PUBLIC/PRIVATE when linking</li>
</ul></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=toolchain>Toolchain<a href=#toolchain class=hash-link aria-label="Direct link to Toolchain" title="Direct link to Toolchain" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=ldd>Ldd<a href=#ldd class=hash-link aria-label="Direct link to Ldd" title="Direct link to Ldd" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">ldd ./lib.sio</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ldd library.so</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=ar>Ar<a href=#ar class=hash-link aria-label="Direct link to Ar" title="Direct link to Ar" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">ar </span><span class="token parameter variable" style=color:#36acaa>-t</span><span class="token plain"> library.a</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=nm>Nm<a href=#nm class=hash-link aria-label="Direct link to Nm" title="Direct link to Nm" translate=no>​</a></h3>
<div class="language-bash codeBlockContainer_dIby theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_qQ2k><pre tabindex=0 class="prism-code language-bash codeBlock_wuTj thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines__eLa><span class=token-line style=color:#393A34><span class="token plain">nm </span><span class="token parameter variable" style=color:#36acaa>-Ca</span><span class="token plain"> ./lib.so</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_fqbt" id=references>References<a href=#references class=hash-link aria-label="Direct link to References" title="Direct link to References" translate=no>​</a></h2>
<ul>
<li class=""><a href=https://cmake.org/cmake/help/latest target=_blank rel="noopener noreferrer" class="">Official Reference</a></li>
<li class=""><a href=http://file.ncnynl.com/ros/CMake%20Practice.pdf target=_blank rel="noopener noreferrer" class="">CMake Practice</a></li>
<li class=""><a href=https://cgold.readthedocs.io/en/latest target=_blank rel="noopener noreferrer" class="">CGold CMake</a></li>
<li class=""><a href=https://cliutils.gitlab.io/modern-cmake target=_blank rel="noopener noreferrer" class="">Modern CMake</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>Tags:</b><ul class="tags_cGDs padding--none margin-left--sm"><li class=tag_V4YT><a rel=tag class="tag_DVgd tagRegular_xECn" href=/notes/tags/programming>Programming</a><li class=tag_V4YT><a rel=tag class="tag_DVgd tagRegular_xECn" href=/notes/tags/c-make>CMake</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_AxGk"><a href=https://github.com/sabertazimi/notes/edit/main/content/programming/cmake/cmake.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_dNJ2 aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_h9KE"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2026-01-28T17:35:32.000Z itemprop=dateModified>Jan 28, 2026</time></b> by <b>sabertazimi</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/notes/programming/android/best-practices><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Best Practices</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/notes/programming/design/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Design</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_n7kj thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#build-system class="table-of-contents__link toc-highlight">Build System</a><ul><li><a href=#options class="table-of-contents__link toc-highlight">Options</a></ul><li><a href=#flow-control class="table-of-contents__link toc-highlight">Flow Control</a><ul><li><a href=#if class="table-of-contents__link toc-highlight">If</a><li><a href=#foreach class="table-of-contents__link toc-highlight">Foreach</a><li><a href=#while class="table-of-contents__link toc-highlight">While</a></ul><li><a href=#function class="table-of-contents__link toc-highlight">Function</a><ul><li><a href=#parse-arguments class="table-of-contents__link toc-highlight">Parse Arguments</a></ul><li><a href=#check class="table-of-contents__link toc-highlight">Check</a><li><a href=#test class="table-of-contents__link toc-highlight">Test</a><li><a href=#option class="table-of-contents__link toc-highlight">Option</a><li><a href=#math class="table-of-contents__link toc-highlight">Math</a><li><a href=#list class="table-of-contents__link toc-highlight">List</a><li><a href=#package class="table-of-contents__link toc-highlight">Package</a><li><a href=#install class="table-of-contents__link toc-highlight">Install</a><ul><li><a href=#binaries class="table-of-contents__link toc-highlight">Binaries</a><li><a href=#normal-files class="table-of-contents__link toc-highlight">Normal Files</a><li><a href=#scripts class="table-of-contents__link toc-highlight">Scripts</a><li><a href=#directories class="table-of-contents__link toc-highlight">Directories</a></ul><li><a href=#find class="table-of-contents__link toc-highlight">Find</a><li><a href=#config class="table-of-contents__link toc-highlight">Config</a><ul><li><a href=#version class="table-of-contents__link toc-highlight">Version</a><li><a href=#project class="table-of-contents__link toc-highlight">Project</a><li><a href=#environment class="table-of-contents__link toc-highlight">Environment</a><li><a href=#library-for-clients class="table-of-contents__link toc-highlight">Library for Clients</a></ul><li><a href=#generator-expression class="table-of-contents__link toc-highlight">Generator Expression</a><li><a href=#submodule-and-dependencies class="table-of-contents__link toc-highlight">Submodule and Dependencies</a><li><a href=#patterns class="table-of-contents__link toc-highlight">Patterns</a><ul><li><a href=#modern class="table-of-contents__link toc-highlight">Modern</a><li><a href=#interface-vs-private class="table-of-contents__link toc-highlight">Interface vs Private</a></ul><li><a href=#toolchain class="table-of-contents__link toc-highlight">Toolchain</a><ul><li><a href=#ldd class="table-of-contents__link toc-highlight">Ldd</a><li><a href=#ar class="table-of-contents__link toc-highlight">Ar</a><li><a href=#nm class="table-of-contents__link toc-highlight">Nm</a></ul><li><a href=#references class="table-of-contents__link toc-highlight">References</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Notes</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/notes/ai>AI</a><li class=footer__item><a class=footer__link-item href=/notes/cs>CS</a><li class=footer__item><a class=footer__link-item href=/notes/web>Web</a><li class=footer__item><a class=footer__link-item href=/notes/language>Language</a><li class=footer__item><a class=footer__link-item href=/notes/programming>Programming</a><li class=footer__item><a class=footer__link-item href=/notes/web/library>Library Gallery</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Social Media</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/sabertazimi target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/sabertazimi target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://facebook.com/sabertazimi target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://weibo.com/sabertazimi target=_blank rel="noopener noreferrer" class=footer__link-item>Weibo<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=mailto:sabertazimi@gmail.com target=_blank rel="noopener noreferrer" class=footer__link-item>Email<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Find More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/sabertazimi/blog target=_blank rel="noopener noreferrer" class=footer__link-item>Next.js Blog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/sabertazimi/lab target=_blank rel="noopener noreferrer" class=footer__link-item>Lab<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/sabertazimi/bod target=_blank rel="noopener noreferrer" class=footer__link-item>Bod CLI<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/sabertazimi/doftiles target=_blank rel="noopener noreferrer" class=footer__link-item>Dotfiles<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/sabertazimi/LaTeX-snippets target=_blank rel="noopener noreferrer" class=footer__link-item>LaTeX Snippets<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/sabertazimi/hust-lab target=_blank rel="noopener noreferrer" class=footer__link-item>HUST Lab<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_XHYa><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2026 Sabertaz</div></div></div></footer></div></body>